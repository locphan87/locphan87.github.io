<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><meta data-react-helmet="true" name="twitter:creator" content="@locphan"/><meta data-react-helmet="true" name="twitter:image:alt" content="Bài viết này dựa trên series  Thinking in Ramda  của Randy Coulman. Chúng ta sẽ cùng tìm hiểu: Các nguyên tắc cơ bản của lập trình hàm…"/><meta data-react-helmet="true" name="twitter:image" content="https://locphan.dev/banner.jpg"/><meta data-react-helmet="true" name="twitter:description" content="Bài viết này dựa trên series  Thinking in Ramda  của Randy Coulman. Chúng ta sẽ cùng tìm hiểu: Các nguyên tắc cơ bản của lập trình hàm…"/><meta data-react-helmet="true" name="twitter:url" content="https://locphan.dev/thinking-in-ramda"/><meta data-react-helmet="true" name="twitter:title" content="Thinking in Ramda"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:image:alt" content="Bài viết này dựa trên series  Thinking in Ramda  của Randy Coulman. Chúng ta sẽ cùng tìm hiểu: Các nguyên tắc cơ bản của lập trình hàm…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://locphan.dev/banner.jpg"/><meta data-react-helmet="true" property="og:description" content="Bài viết này dựa trên series  Thinking in Ramda  của Randy Coulman. Chúng ta sẽ cùng tìm hiểu: Các nguyên tắc cơ bản của lập trình hàm…"/><meta data-react-helmet="true" property="og:url" content="https://locphan.dev/thinking-in-ramda"/><meta data-react-helmet="true" property="og:title" content="Thinking in Ramda"/><meta data-react-helmet="true" name="image" content="https://locphan.dev/banner.jpg"/><meta data-react-helmet="true" name="description" content="Bài viết này dựa trên series  Thinking in Ramda  của Randy Coulman. Chúng ta sẽ cùng tìm hiểu: Các nguyên tắc cơ bản của lập trình hàm…"/><meta name="generator" content="Gatsby 4.13.1"/><title data-react-helmet="true">Thinking in Ramda | Loc Phan</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&amp;display=swap"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-fa64a904c87b910f2174.js"/><link as="script" rel="preload" href="/framework-26c2e434f6459d5355dd.js"/><link as="script" rel="preload" href="/app-1958255b6317885b58ab.js"/><link as="script" rel="preload" href="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-c7041205d81b01c318ad.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-b1e65e8932ecc2a9063e.js"/><link as="fetch" rel="preload" href="/page-data/thinking-in-ramda/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 1yc3m30">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default,.theme-ui-__default html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#9f7aea;--theme-ui-colors-secondary:#7f8ea3;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;}</style><style data-emotion="css-global 1j0yc2g">*{box-sizing:border-box;}html{font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global h7esfd">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text);color:var(--theme-ui-colors-background);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion="css 1gq7j3t">.css-1gq7j3t{border:0;clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1gq7j3t:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading);color:var(--theme-ui-colors-background);z-index:1;width:auto;height:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1gq7j3t">Skip to content</a><style data-emotion="css 1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width: 640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion="css egutgn">.css-egutgn{margin-bottom:4rem;}@media screen and (min-width: 640px){.css-egutgn{margin-bottom:8rem;}}</style><header class="css-egutgn"><style data-emotion="css 1xwyizx">.css-1xwyizx{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><style data-emotion="css 10klvkd">.css-10klvkd{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-10klvkd"><style data-emotion="css uxjqfw">.css-uxjqfw{color:var(--theme-ui-colors-heading);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="Loc Phan - Back to home" class="css-uxjqfw" href="/"><style data-emotion="css 102q2va">.css-102q2va{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width: 640px){.css-102q2va{font-size:1.875rem;}}</style><div class="css-102q2va">Loc Phan</div></a><style data-emotion="css zut31r">.css-zut31r{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}.css-zut31r:hover,.css-zut31r:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-zut31r"><style data-emotion="css 1m6u41m">.css-1m6u41m{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon);}.css-1m6u41m:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0, 0);-moz-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;transition:transform 0.45s ease;}.css-1m6u41m:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon),0 23px 0 var(--theme-ui-colors-toggleIcon),23px 0 0 var(--theme-ui-colors-toggleIcon),-23px 0 0 var(--theme-ui-colors-toggleIcon),15px 15px 0 var(--theme-ui-colors-toggleIcon),-15px 15px 0 var(--theme-ui-colors-toggleIcon),15px -15px 0 var(--theme-ui-colors-toggleIcon),-15px -15px 0 var(--theme-ui-colors-toggleIcon);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-1m6u41m"></div></button></div><style data-emotion="css fp1v3n">.css-fp1v3n{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary);-webkit-box-flex-flow:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-fp1v3n a{color:var(--theme-ui-colors-secondary);}.css-fp1v3n a:hover{color:var(--theme-ui-colors-heading);}</style><div class="css-fp1v3n"><style data-emotion="css 1lx5s1f">.css-1lx5s1f{font-size:1rem;}.css-1lx5s1f a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width: 640px){.css-1lx5s1f{font-size:18px;}}.css-1lx5s1f .active{color:var(--theme-ui-colors-heading);}</style><nav class="css-1lx5s1f"><style data-emotion="css bpdkdn">.css-bpdkdn{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-bpdkdn:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-bpdkdn" href="/blog">Blog</a><a class="css-bpdkdn" href="/work">Work</a><a class="css-bpdkdn" href="/life">Life</a><a class="css-bpdkdn" href="/about">About</a></nav></div></header><style data-emotion="css 1c3blfx">.css-1c3blfx [data-name='live-editor']{font-size:1rem;}.css-1c3blfx [data-name='live-editor'] textarea,.css-1c3blfx [data-name='live-editor'] pre{padding:1rem!important;}.css-1c3blfx [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-1c3blfx .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1c3blfx .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx .prism-code{font-size:1.25rem;}}.css-1c3blfx .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1c3blfx .gatsby-highlight[data-language=''] .prism-code,.css-1c3blfx .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1c3blfx .token{display:inline-block;}.css-1c3blfx p>code,.css-1c3blfx li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1c3blfx .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1c3blfx .gatsby-highlight pre code{float:left;min-width:100%;}.css-1c3blfx .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1c3blfx .gatsby-highlight pre[class~="language-javascript"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1c3blfx .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-py"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1c3blfx .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1c3blfx .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1c3blfx .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1c3blfx .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1c3blfx .gatsby-highlight pre[class~='language-json']:before,.css-1c3blfx .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1c3blfx .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1c3blfx .gatsby-highlight>code[class*="language-"],.css-1c3blfx .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-1c3blfx .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1c3blfx .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .token-line{padding-right:1rem;}.css-1c3blfx .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-1c3blfx .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1c3blfx .react-live-wrapper{position:relative;}.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion="css albdeh">.css-albdeh{box-sizing:border-box;margin:0;min-width:0;}.css-albdeh [data-name='live-editor']{font-size:1rem;}.css-albdeh [data-name='live-editor'] textarea,.css-albdeh [data-name='live-editor'] pre{padding:1rem!important;}.css-albdeh [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-albdeh .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-albdeh .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh .prism-code{font-size:1.25rem;}}.css-albdeh .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-albdeh .gatsby-highlight[data-language=''] .prism-code,.css-albdeh .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-albdeh .token{display:inline-block;}.css-albdeh p>code,.css-albdeh li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-albdeh .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-albdeh .gatsby-highlight pre code{float:left;min-width:100%;}.css-albdeh .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-albdeh .gatsby-highlight pre[class~="language-javascript"]:before,.css-albdeh .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-albdeh .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-py"]:before,.css-albdeh .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-albdeh .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-albdeh .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-albdeh .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-albdeh .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-albdeh .gatsby-highlight pre[class~='language-json']:before,.css-albdeh .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-albdeh .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-albdeh .gatsby-highlight>code[class*="language-"],.css-albdeh .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-albdeh .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-albdeh .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .token-line{padding-right:1rem;}.css-albdeh .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-albdeh .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-albdeh .react-live-wrapper{position:relative;}.css-albdeh .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-albdeh .react-live-wrapper .code-copy-button{right:-1rem;}}</style><main id="skip-nav" class=" css-albdeh"><style data-emotion="css 1aue9xx">.css-1aue9xx{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 768px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1aue9xx{font-size:4rem;}}</style><h1 class="css-1aue9xx">Thinking in Ramda</h1><style data-emotion="css 15ce8we">.css-15ce8we{color:var(--theme-ui-colors-secondary);margin-top:1rem;font-size:1rem;}.css-15ce8we a{color:var(--theme-ui-colors-secondary);}@media screen and (min-width: 640px){.css-15ce8we{font-size:1rem;}}@media screen and (min-width: 768px){.css-15ce8we{font-size:1.25rem;}}</style><p class="css-15ce8we"><time>20.01.2018</time> — <!-- --><a class="css-bpdkdn" href="/tags/javascript">javascript</a>, <!-- --><a class="css-bpdkdn" href="/tags/functional-programming">functional-programming</a>, <!-- --><a class="css-bpdkdn" href="/tags/ramda">ramda</a> — <!-- --><span>41<!-- --> min read<!-- --></span></p><style data-emotion="css b56ay0">.css-b56ay0{margin-top:4rem;margin-bottom:4rem;}.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0, 0, 0, 0.15) 0px 32px 32px 0px,rgba(0, 0, 0, 0.15) 0px 16px 16px 0px,rgba(0, 0, 0, 0.15) 0px 8px 8px 0px,rgba(0, 0, 0, 0.15) 0px 4px 4px 0px;}@media screen and (min-width: 640px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width: 768px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-b56ay0"><style data-emotion="css 1ccrm8j">.css-1ccrm8j{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width: 768px){.css-1ccrm8j{font-size:1.25rem;}}</style><p class="css-1ccrm8j">Bài viết này dựa trên series <!-- --><style data-emotion="css 1bw77fa">.css-1bw77fa{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1bw77fa:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="http://randycoulman.com/blog/categories/thinking-in-ramda/" class="css-1bw77fa">Thinking in Ramda</a> của Randy Coulman.<!-- --></p><p class="css-1ccrm8j">Chúng ta sẽ cùng tìm hiểu:</p><style data-emotion="css 15rlv7r">.css-15rlv7r li{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width: 768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0">Các nguyên tắc cơ bản của lập trình hàm (functional programming).</li><li class="css-0">Cách sử dụng Ramda để áp dụng lập trình hàm vào Javascript.</li><li class="css-0">Cách tư duy theo hướng lập trình hàm để giải quyết các bài toán thực tế.</li></ul><style data-emotion="css 1u31ba2">.css-1u31ba2{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 768px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1u31ba2{font-size:4rem;}}</style><h1 class="css-1u31ba2">Giới thiệu</h1><p class="css-1ccrm8j">Chúng ta sẽ sử dụng thư viện <!-- --><a href="http://ramdajs.com/" class="css-1bw77fa">Ramda</a> cho loạt bài này, mặc dù nhiều ý tưởng có thể được áp dụng cho các thư viện JavaScript khác như <!-- --><a href="http://underscorejs.org/" class="css-1bw77fa">Underscore</a> và <!-- --><a href="https://lodash.com/" class="css-1bw77fa">Lodash</a>, cũng như cho các ngôn ngữ khác.<!-- --></p><style data-emotion="css kih3f7">.css-kih3f7{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 768px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 1024px){.css-kih3f7{font-size:3rem;}}</style><h2 class="css-kih3f7">Ramda</h2><p class="css-1ccrm8j"><a href="https://ramdajs.com/" class="css-1bw77fa">Ramda</a> là một thư viện được thiết kế độc đáo, cung cấp rất nhiều công cụ cho lập trình hàm trong JavaScript một cách gọn gàng, dễ hiểu.<!-- --></p><p class="css-1ccrm8j">Nếu bạn muốn thử nghiệm với Ramda trong khi đọc qua loạt bài này, có một <!-- --><a href="http://ramdajs.com/repl/" class="css-1bw77fa">môi trường thử nghiệm</a> trên trang web Ramda.<!-- --></p><h2 class="css-kih3f7">Hàm (function)</h2><p class="css-1ccrm8j">Như tên gọi của nó, lập trình hàm có rất nhiều việc để làm với các hàm. Chúng ta sẽ định nghĩa một hàm như một đoạn code có thể tái sử dụng, được gọi với không hoặc nhiều đối số và trả về một kết quả.</p><p class="css-1ccrm8j">Đây là một hàm đơn giản trong JavaScript:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><style data-emotion="css dybovu">.css-dybovu{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width: 640px){.css-dybovu{font-size:14px;}}@media screen and (min-width: 768px){.css-dybovu{font-size:16px;}}.css-dybovu[disabled]{cursor:not-allowed;}.css-dybovu:not([disabled]):hover{background-color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-white);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><style data-emotion="css 15vf505">.css-15vf505{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">double</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Với các hàm mũi tên (=&gt;) của ES6, bạn có thể viết cùng một hàm theo cú pháp dễ dàng hơn nhiều.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">double</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span></div></code></pre></div><p class="css-1ccrm8j">Hầu như mọi ngôn ngữ đều có một số hỗ trợ cho các hàm.</p><p class="css-1ccrm8j">Một số ngôn ngữ cung cấp hỗ trợ cho các hàm như cấu trúc first-class (i.e JavaScript). Nghĩa là các hàm có thể được sử dụng trong cùng một cách như các kiểu giá trị khác. Bạn có thể:</p><ul class="css-15rlv7r"><li class="css-0">Sử dụng như hằng số và biến.</li><li class="css-0">Truyền vào như các tham số cho các hàm khác.</li><li class="css-0">Trả lại như kết quả từ các hàm khác.</li></ul><h2 class="css-kih3f7">Hàm thuần khiết (pure function)</h2><p class="css-1ccrm8j">Khi viết các chương trình theo hướng lập trình hàm, điều quan trọng là chúng ta làm việc chủ yếu với các hàm &quot;thuần khiết&quot;.</p><p class="css-1ccrm8j">Các hàm thuần khiết là những hàm không có hiệu ứng phụ (side effects). Chúng không gán giá trị cho bất kỳ các biến bên ngoài, chúng không đọc hoặc ghi vào cơ sở dữ liệu, chúng không sửa đổi các tham số chúng được truyền vào, vv.</p><p class="css-1ccrm8j">Ý tưởng cơ bản là, nếu bạn gọi một hàm với các tham số đầu vào giống nhau nhiều lần, bạn luôn nhận được một kết quả giống nhau.</p><p class="css-1ccrm8j">Bạn chắc chắn có thể làm một số thứ với các hàm không thuần khiết (và bạn cần phải làm như vậy nếu chương trình của bạn muốn làm bất cứ điều gì có ý nghĩa), nhưng phần lớn trường hợp bạn sẽ muốn giữ cho hầu hết các hàm của bạn trở nên thuần khiết.</p><h2 class="css-kih3f7">Tính bất biến (immutability)</h2><p class="css-1ccrm8j">Một khái niệm quan trọng khác trong lập trình hàm là &quot;tính bất biến&quot;. &quot;Bất biến&quot; (immutable) có nghĩa là &quot;không thể thay đổi được&quot;.</p><p class="css-1ccrm8j">Khi làm việc theo mô hình bất biến, một khi khởi tạo một giá trị hoặc một đối tượng bạn sẽ không bao giờ có thể thay đổi nó một lần nữa. Điều đó có nghĩa là sẽ không có sự thay đổi các phần tử của một mảng hoặc các thuộc tính của một đối tượng.</p><p class="css-1ccrm8j">Thay vào đó, nếu cần phải thay đổi một cái gì đó trong một mảng hoặc đối tượng, bạn sẽ trả lại một bản sao mới của nó với giá trị đã được thay đổi. Các phần sau chúng ta sẽ nói về điều này một cách chi tiết.</p><p class="css-1ccrm8j">Tính bất biến luôn đi cùng với các hàm thuần khiết. Vì các hàm thuần khiết không được phép có các hiệu ứng phụ, chúng không được phép thay đổi dữ liệu bên ngoài. Chúng buộc phải làm việc với dữ liệu theo cách không thể thay đổi.</p><h2 class="css-kih3f7">Bắt đầu từ đâu?</h2><p class="css-1ccrm8j">Cách dễ nhất để bắt đầu suy nghĩ theo hướng lập trình hàm là bắt đầu thay thế các vòng lặp (loop) bằng các hàm lặp trên tập hợp.</p><p class="css-1ccrm8j">Nếu bạn đến từ một ngôn ngữ khác mà có các hàm này (Ruby và Smalltalk là hai ví dụ), bạn có thể đã quen thuộc với chúng.</p><p class="css-1ccrm8j"><a href="https://martinfowler.com/" class="css-1bw77fa">Martin Fowler</a> có một vài bài viết tuyệt vời về &quot;<!-- --><a href="https://martinfowler.com/articles/collection-pipeline/" class="css-1bw77fa">Tập hợp đường ống</a>&quot;, cách sử dụng các hàm này và <!-- --><a href="https://martinfowler.com/articles/refactoring-pipelines.html" class="css-1bw77fa">cách tái cấu trúc code hiện có vào các tập hợp đường ống</a>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng tất cả các hàm này (ngoại trừ <!-- --><code class="css-0">reject</code>) đều có sẵn trên <!-- --><code class="css-0">Array.prototype</code>, vì vậy bạn không cần Ramda để bắt đầu sử dụng chúng. Tuy nhiên, chúng ta sẽ sử dụng phiên bản của Ramda cho nhất quán với phần còn lại.<!-- --></p><style data-emotion="css 1o6lusp">.css-1o6lusp{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-1o6lusp{font-size:2.25rem;}}</style><h3 class="css-1o6lusp">forEach</h3><p class="css-1ccrm8j">Thay vì viết một vòng lặp rõ ràng, hãy thử sử dụng hàm <!-- --><code class="css-0">forEach</code> thay th  ế. Đó là:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Replace this:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> value </span><span class="token keyword" style="color:rgb(127, 219, 202)">of</span><span class="token plain"> myArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// with:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">forEach</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> myArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">forEach</code> nhận vào một hàm và một mảng, gọi hàm trên mỗi phần tử của mảng.<!-- --></p><p class="css-1ccrm8j">Trong khi <!-- --><code class="css-0">forEach</code> là cách dễ tiếp cận nhất của các hàm lặp này, nó lại ít được sử dụng nhất trong lập trình hàm. Nó không trả về một giá trị, vì vậy thực sự nó chỉ được sử dụng cho việc gọi các hàm có hiệu ứng phụ (side effects).<!-- --></p><h3 class="css-1o6lusp">map</h3><p class="css-1ccrm8j">Hàm quan trọng tiếp theo cần học là <!-- --><code class="css-0">map</code>. Giống như <!-- --><code class="css-0">forEach</code>, <!-- --><code class="css-0">map</code> áp dụng một hàm cho mỗi phần tử của mảng. Tuy nhiên, không giống như <!-- --><code class="css-0">forEach</code>, <!-- --><code class="css-0">map</code> thu thập các kết quả của việc áp dụng hàm vào một mảng mới và trả về nó.<!-- --></p><p class="css-1ccrm8j">Đây là một ví dụ:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; [2, 4, 6]</span></div></code></pre></div><p class="css-1ccrm8j">Ví dụ trên sử dụng một hàm ẩn danh, nhưng chúng ta có thể dễ dàng sử dụng một hàm được đặt tên:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">double</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">double</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h3 class="css-1o6lusp">filter/reject</h3><p class="css-1ccrm8j">Tiếp theo, chúng ta hãy cũng xem xét <!-- --><code class="css-0">filter</code> và <!-- --><code class="css-0">reject</code>. Như tên gọi của nó, <!-- --><code class="css-0">filter</code> lựa chọn các phần tử từ một mảng dựa trên một hàm. Ví dụ:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEven</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; [2, 4]</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">filter</code> áp dụng hàm của nó (<!-- --><code class="css-0">isEven</code> trong trường hợp này) cho mỗi phần tử của mảng. Bất cứ khi nào hàm trả về giá trị đúng (truthy), phần tử tương ứng sẽ được bao gồm trong kết quả. Bất cứ khi nào hàm trả về giá trị sai (falsy), phần tử tương ứng sẽ bị loại trừ (bị lọc ra) khỏi mảng.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">reject</code> thực hiện chính xác như vậy, nhưng theo cách ngược lại. Nó giữ các phần tử mà hàm trả về giá trị sai và loại trừ các phần tử mà hàm trả về giá trị đúng.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token function" style="color:rgb(130, 170, 255)">reject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; [1, 3]</span></div></code></pre></div><h3 class="css-1o6lusp">find</h3><p class="css-1ccrm8j"><code class="css-0">find</code> áp dụng một hàm cho mỗi phần của mảng và trả về phần tử đầu tiên mà hàm trả về giá trị đúng.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; 2</span></div></code></pre></div><h3 class="css-1o6lusp">reduce</h3><p class="css-1ccrm8j"><code class="css-0">reduce</code> thì phức tạp hơn các hàm khác mà chúng ta đã thấy cho đến giờ.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">reduce</code> nhận vào một hàm hai đối số, một giá trị ban đầu, và mảng để vận hành.<!-- --></p><p class="css-1ccrm8j">Đối số đầu tiên của hàm mà chúng ta truyền vào được gọi là &quot;giá trị tích lũy&quot; (accumulator) và đối số thứ hai là phần tử từ mảng.</p><p class="css-1ccrm8j">Hàm cần phải trả về một giá trị tích lũy mới.</p><p class="css-1ccrm8j">Hãy xem xét một ví dụ và sau đó giải thích những gì đã xảy ra.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">accum</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> accum </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> value</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">reduce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; 15</span></div></code></pre></div><ol class="css-15rlv7r"><li class="css-0"><code class="css-0">reduce</code> đầu tiên gọi hàm <!-- --><code class="css-0">add</code> với giá trị ban đầu (<!-- --><code class="css-0">5</code>) và phần tử đầu tiên của mảng (<!-- --><code class="css-0">1</code>). <!-- --><code class="css-0">add</code> trả lại một giá trị tích lũy mới (<!-- --><code class="css-0">5 + 1 = 6</code>).<!-- --></li><li class="css-0"><code class="css-0">reduce</code> gọi <!-- --><code class="css-0">add</code> lần nữa, lần này với giá trị tích lũy mới (<!-- --><code class="css-0">6</code>) và giá trị tiếp theo từ mảng (<!-- --><code class="css-0">2</code>). <!-- --><code class="css-0">add</code> trả về <!-- --><code class="css-0">8</code>.<!-- --></li><li class="css-0"><code class="css-0">reduce</code> gọi <!-- --><code class="css-0">add</code> một lần nữa với <!-- --><code class="css-0">8</code> và giá trị tiếp theo (<!-- --><code class="css-0">3</code>), kết quả là <!-- --><code class="css-0">11</code>.<!-- --></li><li class="css-0"><code class="css-0">reduce</code> gọi <!-- --><code class="css-0">add</code> lần cuối với <!-- --><code class="css-0">11</code> và giá trị cuối cùng của mảng (<!-- --><code class="css-0">4</code>), kết quả là <!-- --><code class="css-0">15</code>.<!-- --></li><li class="css-0"><code class="css-0">reduce</code> trả về giá trị tích lũy cuối cùng như là kết quả của nó (<!-- --><code class="css-0">15</code>).<!-- --></li></ol><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Bằng cách bắt đầu với các hàm lặp này, bạn có thể quen với ý tưởng truyền các hàm tới các hàm khác. Bạn có thể đã sử dụng chúng trong những ngôn ngữ khác mà không nhận ra bạn đã thực hành lập trình hàm.</p><h1 class="css-1u31ba2">Kết hợp hàm</h1><h2 class="css-kih3f7">Các kết hợp đơn giản</h2><p class="css-1ccrm8j">Một khi bạn đã quen với ý tưởng truyền hàm đến các hàm khác, bạn có thể bắt đầu tìm ra các tình huống mà bạn muốn kết hợp nhiều hàm với nhau.</p><p class="css-1ccrm8j">Ramda cung cấp một số hàm để tạo các kết hợp đơn giản. Hãy nhìn vào một vài ví dụ.</p><h3 class="css-1o6lusp">complement</h3><p class="css-1ccrm8j">Chúng ta đã sử dụng <!-- --><code class="css-0">find</code> để tìm số chẵn đầu tiên trong danh sách:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEven</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; 2</span></div></code></pre></div><p class="css-1ccrm8j">Điều gì sẽ xảy ra nếu chúng ta muốn tìm số lẻ đầu tiên. Chúng ta luôn có thể viết một hàm <!-- --><code class="css-0">isOdd</code> và sử dụng nó, nhưng chúng ta biết rằng bất kỳ số nào nếu không phải là chẵn thì là số lẻ. Chúng ta hãy sử dụng lại hàm <!-- --><code class="css-0">isEven</code>.<!-- --></p><p class="css-1ccrm8j">Ramda cung cấp một hàm bậc cao (higher order function) <!-- --><code class="css-0">complement</code>, nhận một hàm và trả về một hàm mới, trả về <!-- --><code class="css-0">true</code> khi hàm gốc trả về một giá trị <!-- --><code class="css-0">false</code> và <!-- --><code class="css-0">false</code> khi hàm gốc trả về một giá trị <!-- --><code class="css-0">true</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEven</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">complement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; 1</span></div></code></pre></div><p class="css-1ccrm8j">Thậm chí tốt hơn là cung cấp cho hàm bổ sung tên riêng để nó có thể được sử dụng lại:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEven</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isOdd </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">complement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isEven</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOdd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// --&gt; 1</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">complement</code> thực hiện cùng một ý tưởng cho các hàm giống như là <!-- --><code class="css-0">!</code> (phủ định) áp dụng cho các giá trị.<!-- --></p><h3 class="css-1o6lusp">both/either</h3><p class="css-1ccrm8j">Giả sử rằng chúng ta đang l àm việc trên một hệ thống bỏ phiếu. Với một người, chúng ta muốn có thể xác định xem người đó có đủ điều kiện bỏ phiếu hay không. Một người cần phải từ 18 tuổi trở lên và là một công dân mới có thể bỏ phiếu. Một người nào đó là công dân nếu họ sinh ra ở trong nước hoặc nếu sau đó họ trở thành công dân thông qua việc nhập quốc tịch.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isCitizen</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEligibleToVote</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Những gì chúng ta đã viết ở trên chạy tốt, nhưng Ramda cung cấp một vài hàm hữu ích để giúp chúng ta viết nó gọn gàng hơn.</p><p class="css-1ccrm8j"><code class="css-0">both</code> nhận hai hàm và trả về một hàm mới, trả về <!-- --><code class="css-0">true</code> nếu cả hai hàm trả về một giá trị đúng khi áp dụng trên cùng tham số và <!-- --><code class="css-0">false</code> theo chiều ngược lại.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">either</code> nhận hai hàm và trả về một hàm mới, trả về <!-- --><code class="css-0">true</code> nếu một trong hai hàm tr ả về giá trị đúng khi áp dụng trên cùng tham số và <!-- --><code class="css-0">false</code> theo chiều ngược lại.<!-- --></p><p class="css-1ccrm8j">Sử dụng hai hàm này, chúng ta có thể đơn giản hóa <!-- --><code class="css-0">isCitizen</code> và <!-- --><code class="css-0">isEligibleToVote</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isCitizen </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isEligibleToVote </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">both</code> thực hiện cùng một ý tưởng cho các hàm như toán tử &amp;&amp; (và) đối với các giá trị và <!-- --><code class="css-0">either</code> thực hiện cùng một ý tưởng cho các hàm như || (hoặc) cho các giá trị.<!-- --></p><p class="css-1ccrm8j">Ramda cũng cung cấp <!-- --><code class="css-0">allPass</code> và <!-- --><code class="css-0">anyPass</code>, nhận một mảng bất kỳ số lượng các hàm. Như tên gọi của chúng, <!-- --><code class="css-0">allPass</code> hoạt động như <!-- --><code class="css-0">both</code>, và <!-- --><code class="css-0">anyPass</code> hoạt động như <!-- --><code class="css-0">either</code>.<!-- --></p><h2 class="css-kih3f7">Đường ống (pipe)</h2><p class="css-1ccrm8j">Đôi khi chúng ta muốn áp dụng một số hàm cho một số dữ liệu theo kiểu đường ống. Ví dụ, chúng ta có thể muốn lấy hai con số, nhân chúng với nhau, cộng thêm một, và lấy bình phương của kết quả. Chúng ta có thể viết nó như sau:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">multiply</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> b</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">addOne</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">square</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> x</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">operate</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> product </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> incremented </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">product</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> squared </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">incremented</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> squared</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">operate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; ((3 * 4) + 1)^2 =&gt; (12 + 1)^2 =&gt; 13^2 =&gt; 169</span></div></code></pre></div><p class="css-1ccrm8j">Chú ý mỗi thao tác được áp dụng dựa trên kết quả của phép tính trước.</p><h3 class="css-1o6lusp">pipe</h3><p class="css-1ccrm8j">Ramda cung cấp hàm <!-- --><code class="css-0">pipe</code>, nhận vào danh sách của một hoặc nhiều hàm và trả về một hàm mới.<!-- --></p><p class="css-1ccrm8j">Hàm mới có cùng số tham số như là hàm đầu tiên được đưa vào. Sau đó nó sẽ &quot;truyền&quot; (pipe) những tham số thông qua mỗi hàm trong danh sách. Nó áp dụng hàm đầu tiên cho các tham số, truyền kết quả của nó đến hàm thứ hai và vv. Kết quả của hàm cuối cùng là kết quả của lệnh gọi <!-- --><code class="css-0">pipe</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng tất cả các hàm sau hàm đầu tiên phải chỉ có một tham số duy nhất.</p><p class="css-1ccrm8j">Biết được điều này, chúng ta có thể sử dụng <!-- --><code class="css-0">pipe</code> để đơn giản hóa hàm operate của chúng ta:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> operate </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> addOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Khi chúng ta gọi <!-- --><code class="css-0">operate(3, 4)</code>, <!-- --><code class="css-0">pipe</code> truyền <!-- --><code class="css-0">3</code> và <!-- --><code class="css-0">4</code> đến hàm <!-- --><code class="css-0">multiply</code>, kết quả là <!-- --><code class="css-0">12</code>. Nó truyền <!-- --><code class="css-0">12</code> đến <!-- --><code class="css-0">addOne</code>, trả về <!-- --><code class="css-0">13</code>. Sau đó nó gửi <!-- --><code class="css-0">13</code> đến <!-- --><code class="css-0">square</code>, trả lại <!-- --><code class="css-0">169</code>, và trở thành kết quả cuối cùng của <!-- --><code class="css-0">operate</code>.<!-- --></p><h3 class="css-1o6lusp">compose</h3><p class="css-1ccrm8j">Một cách khác chúng ta có thể viết hàm <!-- --><code class="css-0">operate</code> ban đầu của chúng ta là  lồng tất cả các tính toán tạm thời:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">operate</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">addOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nhìn nó nhỏ gọn hơn, nhưng lại hơi khó đọc hơn. Tuy nhiên, nó có thể được viết lại bằng cách sử dụng hàm <!-- --><code class="css-0">compose</code> của Ramda.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">compose</code> hoạt động chính xác theo cùng cách với <!-- --><code class="css-0">pipe</code>, ngoại trừ việc áp dụng các hàm theo thứ tự từ phải sang trái (right to left) thay vì từ trái sang phải (left to right). Hãy viết lại <!-- --><code class="css-0">operate</code> với <!-- --><code class="css-0">compose</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> operate </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> addOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Điều này hoàn toàn giống như <!-- --><code class="css-0">pipe</code> ở trên, nhưng với các hàm theo thứ tự ngược lại. Trên thực tế, hàm <!-- --><code class="css-0">compose</code> của Ramda được viết theo <!-- --><code class="css-0">pipe</code>.<!-- --></p><p class="css-1ccrm8j">Chúng ta có thể nghĩ đến <!-- --><code class="css-0">compose</code> theo cách này: <!-- --><code class="css-0">compose(f, g)(value)</code> tương đương với <!-- --><code class="css-0">f(g(value))</code>.<!-- --></p><p class="css-1ccrm8j">Với <!-- --><code class="css-0">compose</code>, lưu ý rằng tất cả các hàm ngoại trừ hàm cuối cùng chỉ có một tham số duy nhất.<!-- --></p><h3 class="css-1o6lusp">compose hay pipe?</h3><p class="css-1ccrm8j"><code class="css-0">pipe</code> có lẽ là dễ hiểu nhất khi đến từ một nền tảng lập trình mệnh lệnh (imperative) khi bạn đọc các hàm từ trái sang phải. Tuy nhiên, <!-- --><code class="css-0">compose</code> thì dễ dàng hơn để chuyển đổi cho các hàm lồng nhau như đã chỉ ra ở trên.<!-- --></p><p class="css-1ccrm8j">Làm sao để nhận biết khi nào chọn <!-- --><code class="css-0">compose</code> và khi nào chọn <!-- --><code class="css-0">pipe</code>? Vì chúng tương đương nhau trong Ramda, có thể không quan trọng bạn chọn hàm nào. Hãy chọn bất kỳ cái nào tốt nhất trong tình huống của bạn.<!-- --></p><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Bằng cách kết hợp các hàm theo những cách cụ thể, chúng ta có thể bắt đầu viết các hàm nhiều chức năng hơn.</p><p class="css-1ccrm8j">Bạn có thể đã nhận thấy rằng chúng ta chủ yếu bỏ qua các tham số khi kết hợp các hàm. Chúng ta chỉ cung cấp các tham số khi chúng ta gọi hàm kết hợp.</p><p class="css-1ccrm8j">Điều này là phổ biến trong lập trình hàm, và chúng ta sẽ nói về nó nhiều hơn nữa trong phần tiếp theo cũng như việc làm thế nào để kết hợp các hàm có nhiều hơn một tham số.</p><h1 class="css-1u31ba2">Áp dụng từng phần</h1><p class="css-1ccrm8j">Trong phần trước, chúng ta đã xem xét các hàm đường ống đơn giản chỉ có một tham số. Vậy nếu chúng ta muốn sử dụng các hàm có nhiều hơn một tham số thì làm thế nào?</p><p class="css-1ccrm8j">Ví dụ: giả sử chúng ta có một bộ sưu tập các quyển sách và chúng ta muốn tìm các tiêu đề của tất cả sách được xuất bản trong một năm nhất định. Chúng ta hãy cùng viết bằng cách chỉ sử dụng các hàm lặp trên tập hợp của Ramda.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Sẽ rất tốt nếu có thể kết hợp <!-- --><code class="css-0">filter</code> và <!-- --><code class="css-0">map</code> vào một đường ống, nhưng chúng ta không biết làm thế nào bởi vì <!-- --><code class="css-0">filter</code> và <!-- --><code class="css-0">map</code> có hai tham số.<!-- --></p><p class="css-1ccrm8j">Tốt hơn nữa là chúng ta không cần phải sử dụng một hàm mũi tên trong <!-- --><code class="css-0">filter</code>. Hãy giải quyết vấn đề đó trước vì nó sẽ chỉ cho chúng ta một số điều chúng ta có thể sử dụng để làm đường ống.<!-- --></p><h2 class="css-kih3f7">Hàm bậc cao (higher-order function)</h2><p class="css-1ccrm8j">Trong phần 1, chúng ta đã nói về các hàm như là các cấu trúc first-class. Các hàm có thể được truyền như các tham số cho các hàm khác và trả về như các kết quả từ các hàm khác. Chúng ta đã thực hành phần đầu tiên rất nhiều trước đây, nhưng chưa nhìn thấy phần sau đó.</p><p class="css-1ccrm8j">Các hàm nhận hoặc trả về các hàm khác được gọi là các &quot;hàm bậc cao&quot;.</p><p class="css-1ccrm8j">Trong ví dụ ở trên, chúng ta truyền hàm mũi tên để  filter: <!-- --><code class="css-0">book =&gt; publishedInYear(book, year)</code> và chúng ta muốn cố gắng loại bỏ mũi tên. Để làm được điều đó, chúng ta cần một hàm mà nó nhận vào một cuốn sách và trả về giá trị đúng nếu cuốn sách được xuất bản trong một năm nhất định. Nhưng chúng ta cũng cần phải truyền vào số năm để làm cho hàm này linh hoạt.<!-- --></p><p class="css-1ccrm8j">Cách chúng ta có thể giải quyết vấn đề này là thay đổi <!-- --><code class="css-0">publishedInYear</code> thành một hàm trả về một hàm khác. Chúng ta sẽ viết nó với cú pháp hàm đầy đủ để xem những gì xảy ra, sau đó chúng ta sẽ viết một phiên bản ngắn hơn bằng cách sử dụng cú pháp mũi tên:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Full function version:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Arrow function version:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span></div></code></pre></div><p class="css-1ccrm8j">Với phiên bản mới của <!-- --><code class="css-0">publishedInYear</code>, chúng ta có thể viết lại lệnh gọi <!-- --><code class="css-0">filter</code>, loại bỏ hàm mũi tên:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Bây giờ, khi chúng ta gọi <!-- --><code class="css-0">filter</code>, <!-- --><code class="css-0">publishedInYear(year)</code> được đánh giá ngay lập tức, trả về một hàm nhận vào <!-- --><code class="css-0">book</code>, đó chính là những gì <!-- --><code class="css-0">filter</code> cần.<!-- --></p><h2 class="css-kih3f7">Các hàm áp dụng từng phần (partial application)</h2><p class="css-1ccrm8j">Chúng ta có thể viết lại bất kỳ hàm nhiều tham số theo cách này nếu chúng ta muốn, nhưng chúng ta không sở hữu tất cả các hàm mà chúng ta có thể muốn sử dụng. Ngoài ra, chúng ta có thể muốn sử dụng một số hàm đa đối số theo cách thông thường.</p><p class="css-1ccrm8j">Ví dụ: nếu chúng ta có một số code khác chỉ muốn kiểm tra xem một cuốn sách đã được xuất bản trong một năm nhất định hay không, chúng ta muốn gọi <!-- --><code class="css-0">publishedInYear(book, 2012)</code> nhưng chúng ta không thể làm được điều đó được nữa. Thay vào đó, chúng ta phải gọi <!-- --><code class="css-0">publishedInYear(2012)(book)</code>. Nó khó đọc và gây phiền toái hơn.<!-- --></p><p class="css-1ccrm8j">May mắn thay, Ramda cung cấp hai hàm để giúp chúng ta: <!-- --><code class="css-0">partial</code> và <!-- --><code class="css-0">partialRight</code>.<!-- --></p><p class="css-1ccrm8j">Hai hàm này cho phép chúng ta gọi bất kỳ hàm nào với ít tham số hơn nó cần. Cả hai đều trả lại một hàm mới, nhận vào các tham số và sau đó gọi các hàm ban đầu một khi tất cả các tham số đã được cung cấp.</p><p class="css-1ccrm8j">Sự khác biệt giữa <!-- --><code class="css-0">partial</code> và <!-- --><code class="css-0">partialRight</code> là các tham số mà chúng ta cung cấp là các tham số bên trái nhất hoặc bên phải nhất cần thiết bởi hàm ban đầu.<!-- --></p><p class="css-1ccrm8j">Chúng ta hãy trở lại ví dụ ban đầu của chúng ta và sử dụng một trong những hàm này thay vì viết lại <!-- --><code class="css-0">publishedInYear</code>. Vì chúng ta chỉ muốn cung cấp số năm, và đó là tham số bên phải nhất, chúng ta cần phải sử dụng <!-- --><code class="css-0">partialRight</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">partialRight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Nếu chúng ta đã viết <!-- --><code class="css-0">publishedInYear</code> để nhận <!-- --><code class="css-0">(year, book)</code> thay vì <!-- --><code class="css-0">(book, year)</code>, chúng ta sẽ sử dụng <!-- --><code class="css-0">partial</code> thay vì <!-- --><code class="css-0">partialRight</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng các đối số chúng ta cung cấp cho <!-- --><code class="css-0">partial</code> và <!-- --><code class="css-0">partialRight</code> phải luôn ở trong một mảng, ngay cả khi chỉ có một phần tử. Nếu quên điều đó, chúng ta sẽ thấy một thông báo lỗi khó hiểu:<!-- --></p><div class="gatsby-highlight" data-language="jsx"><pre class="prism-code language-jsx" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-jsx"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// First argument to _arity must be a non-negative integer no greater than ten</span></div></code></pre></div><h2 class="css-kih3f7">Curry</h2><p class="css-1ccrm8j">Phải sử dụng <!-- --><code class="css-0">partial</code> và <!-- --><code class="css-0">partialRight</code> ở mọi nơi dẫn đến sự rườm rà và tẻ nhạt. Tuy nhiên, việc phải gọi hàm số nhiều tham số như một chuỗi các hàm đơn lẻ cũng không tốt.<!-- --></p><p class="css-1ccrm8j">May mắn thay, Ramda cung cấp cho chúng ta một giải pháp: <!-- --><code class="css-0">curry</code>.<!-- --></p><p class="css-1ccrm8j"><a href="https://en.wikipedia.org/wiki/Currying" class="css-1bw77fa">Currying</a> là một khái niệm cốt lõi trong lập trình hàm. Về mặt kỹ thuật, một hàm curried luôn là một chuỗi các hàm đơn tham số. Trong ngôn ngữ lập trình hàm thuần túy, cú pháp nói chung làm cho nó trông không khác gì gọi một hàm với nhiều tham số.<!-- --></p><p class="css-1ccrm8j">Nhưng bởi vì Ramda là một thư viện JavaScript, và JavaScript không có cú pháp tốt để gọi một loạt các hàm đơn tham số, các tác giả đã nới lỏng định nghĩa truyền thống của currying một chút.</p><p class="css-1ccrm8j">Trong Ramda, một hàm curried có thể được gọi với một tập hợp con các tham số, và nó sẽ trả về một hàm mới chấp nhận các tham số còn lại. Nếu bạn gọi một hàm curried với tất cả các tham số của nó, nó sẽ thực thi hàm đó.</p><p class="css-1ccrm8j">Bạn có thể nghĩ đến một hàm curried như là sự kết hợp tốt nhất của cả hai cách tiếp cận: bạn có thể gọi nó bình thường với tất cả các tham số của nó. Hoặc bạn có thể gọi nó với một tập hợp con các tham số, và nó sẽ hoạt động như thể bạn sử dụng <!-- --><code class="css-0">partial</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng sự linh hoạt này dẫn đến một ảnh hưởng nhỏ về hiệu suất, bởi vì <!-- --><code class="css-0">curry</code> cần phải tìm hiểu hàm được gọi như thế nào và sau đó xác định cần phải làm gì. Nói chung, chỉ nên thực hiện curry hàm khi bạn thấy cần phải sử dụng <!-- --><code class="css-0">partial</code> ở nhiều nơi.<!-- --></p><p class="css-1ccrm8j">Chúng ta hãy áp dụng <!-- --><code class="css-0">curry</code> với hàm <!-- --><code class="css-0">publishedInYear</code>. Lưu ý rằng <!-- --><code class="css-0">curry</code> luôn hoạt động theo cách bạn đã từng sử dụng <!-- --><code class="css-0">partial</code>; không có phiên bản cho <!-- --><code class="css-0">partialRight</code>. Chúng ta sẽ nói về điều đó ở bên dưới, nhưng bây giờ, chúng ta sẽ đảo ngược các tham số cho <!-- --><code class="css-0">publishedInYear</code> để số năm như tham số đầu tiên.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta có thể một lần nữa gọi <!-- --><code class="css-0">publishedInYear</code> với số năm và trả lại một hàm, nhận vào một cuốn sách và thực hiện hàm ban đầu. Tuy nhiên, chúng ta vẫn có thể gọi nó theo cách thông thường <!-- --><code class="css-0">publishedInYear(2012, book)</code>.<!-- --></p><h2 class="css-kih3f7">Thứ tự tham số</h2><p class="css-1ccrm8j">Lưu ý rằng để <!-- --><code class="css-0">curry</code> làm việc, chúng ta đã phải đảo ngược thứ tự tham số. Điều này là rất phổ biến với lập trình hàm, do đó, hầu như mỗi hàm của Ramda được viết để cho các dữ liệu cần thiết để vận hành như là tham số cuối cùng (data last).<!-- --></p><p class="css-1ccrm8j">Bạn có thể nghĩ về các tham số trước đó như là cấu hình cho tác vụ. Vì vậy, đối với <!-- --><code class="css-0">publishedInYear</code>, tham số <!-- --><code class="css-0">year</code> là cấu hình (chúng ta đang tìm kiếm cái gì?) Và tham số <!-- --><code class="css-0">book</code> là dữ liệu (chúng ta đang tìm kiếm nó ở đâu?).<!-- --></p><p class="css-1ccrm8j">Chúng ta đã thấy các ví dụ này với các hàm lặp trên tập hợp. Tất cả chúng đều nhận vào tập hợp như là tham số cuối cùng vì nó làm cho phong cách lập trình này dễ dàng hơn.</p><h2 class="css-kih3f7">Các tham số sai thứ tự</h2><p class="css-1ccrm8j">Điều gì sẽ xảy ra nếu chúng ta bỏ qua việc thay đổi thứ tự tham số của <!-- --><code class="css-0">publishedInYear</code>? Làm sao chúng ta vẫn có thể tận dụng được bản chất của curry?<!-- --></p><p class="css-1ccrm8j">Ramda cung cấp một vài lựa chọn.</p><h3 class="css-1o6lusp">flip</h3><p class="css-1ccrm8j">Tùy chọn đầu tiên là <!-- --><code class="css-0">flip</code>. <!-- --><code class="css-0">flip</code> nhận một hàm của 2 hoặc nhiều tham số và trả về một hàm mới có các tham số tương tự, nhưng sẽ chuyển đổi thứ tự của hai tham số đầu tiên. Nó chủ yếu được sử dụng với hàm hai tham số, nhưng vẫn có thể được sử dụng trong các trường hợp tổng quát hơn.<!-- --></p><p class="css-1ccrm8j">Sử dụng <!-- --><code class="css-0">flip</code>, chúng ta có thể quay trở lại thứ tự tham số ban đầu của <!-- --><code class="css-0">publishedInYear</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">flip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Trong hầu hết các trường hợp, chúng ta sẽ ưu tiên sử dụng thứ tự tham số thuận tiện hơn, nhưng nếu bạn cần sử dụng một hàm mà bạn không kiểm soát được, <!-- --><code class="css-0">flip</code> là một lựa chọn hữu ích.<!-- --></p><h3 class="css-1o6lusp">placeholder</h3><p class="css-1ccrm8j">Tùy chọn tổng quát hơn là tham số &quot;placeholder&quot; (<!-- --><code class="css-0">__</code>).<!-- --></p><p class="css-1ccrm8j">Điều gì sẽ xảy ra nếu chúng ta có một hàm ba tham số, và chúng ta muốn cung cấp các tham số đầu tiên và cuối cùng, để lại tham số giữa? Chúng ta có thể sử dụng placeholder cho tham số ở giữa:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> threeArgs </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* ... */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> middleArgumentLater </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">threeArgs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;value for a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> __</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;value for c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Bạn cũng có thể sử dụng placeholder nhiều lần trong một lần gọi. Ví dụ, nếu muốn chỉ cung cấp các tham số ở giữa?</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> threeArgs </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* ... */</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> middleArgumentOnly </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">threeArgs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;value for b&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> __</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta có thể sử dụng placeholder thay vì <!-- --><code class="css-0">flip</code> nếu chúng ta thích:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">__</code> chỉ hoạt động cho các hàm curried, trong khi <!-- --><code class="css-0">partial</code>, <!-- --><code class="css-0">partialRight</code>, và <!-- --><code class="css-0">flip</code> chạy trên tất cả các hàm. Nếu bạn cần sử dụng <!-- --><code class="css-0">__</code> với một hàm bình thường, bạn luôn có thể bao quanh nó với một lệnh gọi để <!-- --><code class="css-0">curry</code> trước.<!-- --></p><h2 class="css-kih3f7">Hãy làm một đường ống</h2><p class="css-1ccrm8j">Hãy xem liệu chúng ta có thể di chuyển <!-- --><code class="css-0">filter</code> và <!-- --><code class="css-0">map</code> vào đường ống (pipe). Đây là trạng thái hiện tại của code, với thứ tự tham số thuận tiện cho <!-- --><code class="css-0">publishedInYear</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> selected </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> selected</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta đã học được về <!-- --><code class="css-0">pipe</code> và <!-- --><code class="css-0">compose</code> trong phần trước đó, nhưng chúng ta cần thêm một thông tin nữa để có thể tận dụng điều đó.<!-- --></p><p class="css-1ccrm8j">Phần thông tin còn thiếu là: hầu như mọi hàm của Ramda đều được curried theo mặc định. Nó bao gồm <!-- --><code class="css-0">filter</code> và <!-- --><code class="css-0">map</code>. Vì vậy, <!-- --><code class="css-0">filter(publishedInYear(year))</code> là hoàn toàn hợp lệ và trả về một hàm mới, chờ chúng ta truyền vào <!-- --><code class="css-0">books</code> sau đó, tiếp theo là <!-- --><code class="css-0">map(book =&gt; book.title)</code>.<!-- --></p><p class="css-1ccrm8j">Và bây giờ chúng ta có thể tạo ra đường ống:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">books</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta hãy đi thêm một bước nữa và đảo ngược các tham số cho <!-- --><code class="css-0">titlesForYear</code> để phù hợp với quy ước của Ramda về dữ liệu ở vị trí sau cùng. Chúng ta cũng có thể curry hàm để cho phép sử dụng nó trong các đường ống sau này.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> publishedInYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">year</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> titlesForYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Áp dụng từng phần và currying có thể mất một thời gian và nỗ lực để trở nên quen thuộc với bạn. Nhưng một khi bạn &quot;hiểu ra&quot; chúng, chúng sẽ giới thiệu cho bạn một cách rất hữu ích để chuyển đổi dữ liệu của bạn theo hướng lập trình hàm.</p><p class="css-1ccrm8j">Chúng sẽ dẫn bạn đến việc bắt đầu xây dựng các phép biến đổi bằng cách t  ạo ra những đường ống nhỏ, các khối xây dựng đơn giản (building block).</p><p class="css-1ccrm8j">Để viết code theo phong cách lập trình hàm, chúng ta cần bắt đầu suy nghĩ &quot;declaratively&quot; thay vì &quot;imperatively&quot;. Để làm được điều đó, chúng ta sẽ cần phải tìm ra những cách thể hiện các cấu trúc mệnh lệnh chúng ta đã quen thuộc theo cách thức lập trình hàm.</p><h1 class="css-1u31ba2">Lập trình Declarative</h1><p class="css-1ccrm8j">Trong phần 3, chúng ta đã nói về việc kết hợp các hàm có nhiều hơn một tham số bằng cách sử dụng các kỹ thuật áp dụng từng phần và currying.</p><p class="css-1ccrm8j">Khi chúng ta bắt đầu viết các hàm nhỏ để tạo nên các khối (block) và kết hợp chúng với nhau, chúng ta phải viết rất nhiều hàm bao gồm các toán tử của JavaScript như số học, so sánh, logic và luồng điều khiển. Điều này có thể cảm thấy tẻ nhạt, nhưng Ramda có thể giúp chúng ta.</p><p class="css-1ccrm8j">Nhưng trước tiên, hãy cùng xem qua các kiến thức nền tảng.</p><h2 class="css-kih3f7">Imperative vs Declarative</h2><p class="css-1ccrm8j">Có nhiều cách khác nhau để phân chia các ngôn ngữ hay phong cách lập trình. Kiểu dữ liệu tĩnh và động, ngôn ngữ thông dịch so với ngôn ngữ biên dịch, cấp cao và cấp thấp, v.v ...</p><p class="css-1ccrm8j">Một sự so sánh như vậy là lập trình imperative (bắt buộc, mệnh lệnh chi tiết) và declarative (khai báo, tuyên bố).</p><p class="css-1ccrm8j">Nếu không đi quá sâu vào sự so sánh này, lập trình imperative là một phong cách lập trình mà các lập trình viên nói với máy tính phải làm gì bằng cách nói cho nó làm thế nào để làm điều đó (how). Lập trình imperative tạo ra rất nhiều cấu trúc mà chúng ta sử d ụng hàng ngày: điều khiển luồng (<!-- --><code class="css-0">if</code>-<!-- --><code class="css-0">then</code>-<!-- --><code class="css-0">else</code> statement và vòng lặp), toán tử số học (<!-- --><code class="css-0">+</code>, <!-- --><code class="css-0">-</code>, <!-- --><code class="css-0">*</code>, <!-- --><code class="css-0">/</code>), toán tử so sánh (=,<!-- --><code class="css-0">&gt;</code>, <!-- --><code class="css-0">&lt;</code> , vv), và các toán tử logic (<!-- --><code class="css-0">&amp;&amp;</code>, <!-- --><code class="css-0">||</code>,<!-- --><code class="css-0">!</code>).<!-- --></p><p class="css-1ccrm8j">Lập trình declarative là một phong cách lập trình mà các lập trình viên nói với máy tính phải làm gì bằng cách nói với nó điều họ muốn (what). Máy tính sau đó phải tìm ra cách làm thế nào để đạt được kết quả.</p><p class="css-1ccrm8j">Một trong những ngôn ngữ declarative cổ điển là Prolog. Trong Prolog, một chương trình bao gồm một tập hợp các sự kiện và một bộ quy tắc suy luận. Bạn khởi động chương trình bằng cách hỏi một câu hỏi, và công cụ suy luận của Prolog sử dụng các sự kiện và các quy tắc để trả lời câu hỏi của bạn.</p><p class="css-1ccrm8j">Lập trình hàm được coi là một tập con của chương trình declarative. Trong một chương trình theo lập trình hàm, chúng ta xác định các hàm và sau đó cho máy tính biết phải làm gì bằng cách kết hợp các hàm này với nhau.</p><p class="css-1ccrm8j">Ngay cả trong các chương trình declarative, chúng ta cũng cần làm những công việc tương tự như những chương trình imperative. Điều khiển luồng, số học, so sánh, và logic vẫn là các khối xây dựng cơ bản chúng ta phải làm việc cùng. Nhưng chúng ta cần phải tìm một cách để thể hiện những cấu trúc này theo hướng declarative.</p><h2 class="css-kih3f7">Những sự thay thế theo hướng declarative</h2><p class="css-1ccrm8j">Vì chúng ta đang lập trình bằng JavaScript, ngôn ngữ imperative, nên việc sử dụng các cấu trúc imperative khi viết mã JavaScript là một điều &quot;bình thường&quot;.</p><p class="css-1ccrm8j">Nhưng khi chúng ta tạo ra các biến đổi (transformations) bằng việc sử dụng đường ống và các cấu trúc tương tự, các cấu trúc imperative không hoạt động tốt.</p><p class="css-1ccrm8j">Hãy nhìn vào một số khối xây dựng cơ bản mà Ramda cung cấp để giúp chúng ta thoát khỏi sự bất tiện này.</p><h2 class="css-kih3f7">Số học</h2><p class="css-1ccrm8j">Trở lại phần 2, chúng ta thực hiện một loạt các phép biến đổi số học để mô tả một đường ống:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">multiply</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> b</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">addOne</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">square</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> x</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> operate </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> addOne</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">operate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; ((3 * 4) + 1)^2 =&gt; (12 + 1)^2 =&gt; 13^2 =&gt; 169</span></div></code></pre></div><p class="css-1ccrm8j">Chú ý chúng ta phải viết các hàm cho tất cả các khối xây dựng cơ bản mà chúng ta muốn sử dụng.</p><p class="css-1ccrm8j">Ramda cung cấp các hàm <!-- --><code class="css-0">add</code>, <!-- --><code class="css-0">subtract</code>, <!-- --><code class="css-0">multiply</code> và <!-- --><code class="css-0">divide</code> để sử dụng thay cho các toán tử số học tiêu chuẩn. Vì vậy, chúng ta có thể sử dụng phép nhân <!-- --><code class="css-0">multiply</code> của Ramda thay cho ký tự mà chúng ta đã viết, chúng ta có thể tận dụng hàm curried <!-- --><code class="css-0">add</code> của Ramda để thay thế <!-- --><code class="css-0">addOne</code> của chúng ta, và chúng ta có thể viết <!-- --><code class="css-0">square</code> bằng các phép nhân <!-- --><code class="css-0">multiply</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">square</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> operate </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">add(1)</code> rất giống với toán tử increment (<!-- --><code class="css-0">++</code>), nhưng toán tử increment điều chỉnh biến tăng lên và làm nó thay đổi, do đó nó là một mutation. Như chúng ta đã học trong phần 1, tính không thay đổi là nguyên lý cốt lõi của lập trình hàm nên chúng ta không muốn sử dụng <!-- --><code class="css-0">++</code> hoặc anh em của nó <!-- --><code class="css-0">--</code>.<!-- --></p><p class="css-1ccrm8j">Chúng ta có thể sử dụng <!-- --><code class="css-0">add(1)</code> và <!-- --><code class="css-0">subtract(1)</code> để incrementing và decrementing, nhưng vì hai tác vụ này là phổ biến nên Ramda cung cấp <!-- --><code class="css-0">inc</code> và <!-- --><code class="css-0">dec</code>.<!-- --></p><p class="css-1ccrm8j">Vì vậy, chúng ta có thể đơn giản hóa các đường ống của chúng ta một chút nữa:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">square</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> operate </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> square</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">subtract</code> là sự thay thế cho toán tử trừ <!-- --><code class="css-0">-</code>, nhưng cũng có toán tử <!-- --><code class="css-0">-</code> để phủ định một giá trị. Chúng ta có thể sử dụng <!-- --><code class="css-0">multiply(-1)</code>, nhưng Ramda cung cấp hàm phủ định <!-- --><code class="css-0">negate</code> để giúp thực hiện công việc này.<!-- --></p><h2 class="css-kih3f7">So sánh</h2><p class="css-1ccrm8j">Cũng trong phần 2, chúng ta đã viết một số hàm để xác định xem một người có đủ điều kiện bỏ phiếu hay không. Phiên bản cuối cùng của code đó trông như sau:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isCitizen </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isEligibleToVote </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng một số hàm của chúng ta đang sử dụng toán tử so sánh tiêu chuẩn (<!-- --><code class="css-0">&gt;=</code> và<!-- --><code class="css-0"> ===</code> trong trường hợp này). Như bạn có thể dự đoán, Ramda cũng cung cấp những thay thế cho các toán tử này.<!-- --></p><p class="css-1ccrm8j">Hãy sửa đổi code của chúng ta để sử dụng <!-- --><code class="css-0">equals</code> thay thế<!-- --><code class="css-0"> ===</code> và <!-- --><code class="css-0">gte</code> thay cho <!-- --><code class="css-0">&gt;=</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isCitizen </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isEligibleToVote </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Ramda cũng cung cấp <!-- --><code class="css-0">gt</code> cho <!-- --><code class="css-0">&gt;</code>, <!-- --><code class="css-0">lt</code> cho <!-- --><code class="css-0">&lt;</code>, và <!-- --><code class="css-0">lte</code> cho <!-- --><code class="css-0">&lt;=</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng các hàm này nhận các tham số của chúng theo một thứ tự có vẻ bình thường (tham số đầu tiên lớn hơn cái thứ hai?). Điều này có ý nghĩa khi được sử dụng trong sự cô lập, nhưng có thể gây nhầm lẫn khi kết hợp các hàm. Các hàm này dường như vi phạm nguyên tắc &quot;dữ liệu cuối cùng&quot; của Ramda, vì vậy chúng ta phải cẩn thận khi sử dụng chúng trong các đường ống và các tình huống tương tự. Đó là khi <!-- --><code class="css-0">flip</code> và placeholder (<!-- --><code class="css-0">__</code>) sẽ có ích.<!-- --></p><p class="css-1ccrm8j">Bổ sung cho <!-- --><code class="css-0">equals</code>, có <!-- --><code class="css-0">identical</code> để xác định nếu hai giá trị tham chiếu cùng một bộ nhớ.<!-- --></p><p class="css-1ccrm8j">Có một vài trường hợp sử dụng phổ biến của<!-- --><code class="css-0"> ===</code>: kiểm tra nếu một chuỗi hoặc mảng là rỗng (<!-- --><code class="css-0">str === &#x27;&#x27;</code> hoặc <!-- --><code class="css-0">arr.length === 0</code>), và kiểm tra nếu một biến là <!-- --><code class="css-0">null</code> hoặc <!-- --><code class="css-0">undefined</code>. Ramda cung cấp các hàm hữu ích cho cả hai trường hợp: <!-- --><code class="css-0">isEmpty</code> và <!-- --><code class="css-0">isNil</code>.<!-- --></p><h2 class="css-kih3f7">Logic</h2><p class="css-1ccrm8j">Trong phần 2, chúng ta đã sử dụng các hàm <!-- --><code class="css-0">both</code> và <!-- --><code class="css-0">either</code> thay cho <!-- --><code class="css-0">&amp;&amp;</code> và <!-- --><code class="css-0">||</code>. Chúng ta cũng nói về việc dùng <!-- --><code class="css-0">complement</code> thay vì <!-- --><code class="css-0">!</code></p><p class="css-1ccrm8j">Những hàm kết hợp này hoạt động tốt khi cả hai hàm chúng ta kết hợp hoạt động trên cùng một giá trị. Trên đây, <!-- --><code class="css-0">wasBornInCountry</code>, <!-- --><code class="css-0">wasNaturalized</code>, và <!-- --><code class="css-0">isOver18</code> đều áp dụng cho một người <!-- --><code class="css-0">person</code>.<!-- --></p><p class="css-1ccrm8j">Nhưng đôi khi chúng ta cần áp dụng <!-- --><code class="css-0">&amp;&amp;</code>, <!-- --><code class="css-0">||</code>, và <!-- --><code class="css-0">!</code> cho các giá trị khác biệt. Đối với những trường hợp đó, Ramda cho chúng ta các hàm <!-- --><code class="css-0">and</code>, <!-- --><code class="css-0">or</code>, và <!-- --><code class="css-0">not</code>. Chúng ta có thể nghĩ về nó theo cách này: <!-- --><code class="css-0">and</code>, <!-- --><code class="css-0">or</code>, và <!-- --><code class="css-0">not</code> làm việc với các giá trị, trong khi cả <!-- --><code class="css-0">both</code>, <!-- --><code class="css-0">either</code>, và <!-- --><code class="css-0">complement</code> làm việc với các hàm.<!-- --></p><p class="css-1ccrm8j">Trường hợp sử dụng phổ biến của <!-- --><code class="css-0">||</code> là để cung cấp các giá trị mặc định. Ví dụ, chúng ta có thể viết như thế này:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> lineWidth </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">lineWidth</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">80</span></div></code></pre></div><p class="css-1ccrm8j">Đây là một cách sử dụng phổ biến, và hoạt động đúng trong ph  ần lớn trường hợp, tuy nhiên nó lại dựa vào định nghĩa &quot;falsy&quot; của JavaScript. Điều gì sẽ xảy ra nếu <!-- --><code class="css-0">0</code> là một giá hợp lệ? Vì <!-- --><code class="css-0">0</code> là falsy, chúng ta sẽ kết thúc với <!-- --><code class="css-0">lineWidth</code> là <!-- --><code class="css-0">80</code>.<!-- --></p><p class="css-1ccrm8j">Chúng ta có thể sử dụng hàm <!-- --><code class="css-0">isNil</code> mà chúng ta vừa học được ở trên, nhưng một lần nữa Ramda có một lựa chọn tốt hơn cho chúng ta: <!-- --><code class="css-0">defaultTo</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> lineWidth </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defaultTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> settings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">lineWidth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">defaultTo</code> kiểm tra nếu đối số thứ hai với <!-- --><code class="css-0">isNil</code>. Nếu <!-- --><code class="css-0">false</code>, nó trả về giá trị đó, ngược lại thì nó trả về giá trị đầu tiên.<!-- --></p><h2 class="css-kih3f7">Điều kiện</h2><p class="css-1ccrm8j">Điều khiển luồng là không cần thiết trong các chương trình theo lập trình hàm, nhưng đôi khi vẫn hữu ích. Các hàm lặp trên tập hợp mà chúng ta đã nói ở phần 1 bao gồm hầu hết các tình huống lặp, nhưng các cấu trúc điều kiện vẫn còn quan trọng.</p><h3 class="css-1o6lusp">ifElse</h3><p class="css-1ccrm8j">Chúng ta hãy viết một hàm, <!-- --><code class="css-0">forever21</code>, nhận vào một số tuổi và trả về tuổi tiếp theo. Nhưng, như tên của nó, một khi đến 21 tuổi, nó sẽ luôn như vậy.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">forever21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> age </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng điều kiện của chúng ta (<!-- --><code class="css-0">age &gt;= 21</code>) và nhánh thứ hai (<!-- --><code class="css-0">age + 1</code>) đều có thể được viết theo hàm của độ tuổi <!-- --><code class="css-0">age</code>. Chúng ta có thể viết lại nhánh đầu tiên (<!-- --><code class="css-0">21</code>) như một hàm không đổi (<!-- --><code class="css-0">() =&gt; 21</code>). Bây giờ chúng ta có ba hàm mà có (hoặc bỏ qua) <!-- --><code class="css-0">age</code>.<!-- --></p><p class="css-1ccrm8j">Bây giờ chúng ta đang ở một vị trí mà chúng ta có thể sử dụng <!-- --><code class="css-0">ifElse</code> của Ramda, tương đương với cấu trúc <!-- --><code class="css-0">if... then...else</code> hoặc người anh em họ ngắn hơn, toán tử thứ ba (<!-- --><code class="css-0">?:</code>).<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">forever21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Như đã đề cập ở trên, các hàm so sánh không hoạt động như chúng ta mong muốn khi kết hợp các hàm, vì vậy chúng ta buộc phải sử dụng placeholder ở đây (<!-- --><code class="css-0">__</code>). Chúng ta cũng có thể chuyển sang <!-- --><code class="css-0">lte</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">forever21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Trong trường hợp này, chúng ta phải đọc cái này là &quot;21 nhỏ hơn hoặc bằng số tuổi&quot;.</p><h3 class="css-1o6lusp">Hằng số</h3><p class="css-1ccrm8j">Các hàm hằng số khá hữu ích trong các tình huống như thế này. Như bạn có thể tưởng tượng, Ramda cung cấp cho chúng ta một con đường tắt. Trong trường hợp này, nó được đặt tên là <!-- --><code class="css-0">always</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">forever21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Ramda cũng cung cấp <!-- --><code class="css-0">T</code> và <!-- --><code class="css-0">F</code> thay cho <!-- --><code class="css-0">always(true)</code> và <!-- --><code class="css-0">always(false)</code>.<!-- --></p><h3 class="css-1o6lusp">identity</h3><p class="css-1ccrm8j">Hãy thử một hàm khác, <!-- --><code class="css-0">alwaysDrivingAge</code>. Hàm này nhận một giá trị thời gian và trả lại chính nó nếu nó là <!-- --><code class="css-0">gte</code> 16. Nhưng nếu nó nhỏ hơn 16, nó sẽ trả về 16. Điều này cho phép bất cứ ai giả vờ rằng họ đang ở tuổi lái xe, ngay cả khi họ không phải vậy.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">alwaysDrivingAge</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nhánh thứ hai của điều kiện (<!-- --><code class="css-0">a =&gt; a</code>) là một mô hình (pattern) phổ biến trong lập trình hàm. Nó được gọi là hàm nhận dạng (identity). Tức là, một hàm trả lại bất kỳ tham số nào được đưa vào.<!-- --></p><p class="css-1ccrm8j">Như bạn có thể giả định, Ramda cung cấp hàm <!-- --><code class="css-0">identity</code> cho chúng ta.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">alwaysDrivingAge</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> identity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">identity</code> có thể có nhiều hơn một tham số, nhưng nó luôn trả về tham số đầu tiên. Nếu chúng ta muốn trả về một cái gì đó khác với tham số đầu tiên, thì hàm <!-- --><code class="css-0">nthArg</code> tổng quát hơn. Tuy nhiên, nó ít phổ biến hơn <!-- --><code class="css-0">identity</code>.<!-- --></p><h3 class="css-1o6lusp">when và unless</h3><p class="css-1ccrm8j">Có một câu lệnh <!-- --><code class="css-0">ifElse</code>, trong đó một trong các nhánh có điều kiện là <!-- --><code class="css-0">identity</code> cũng khá phổ biến, do đó Ramda cung cấp một số cách viết tắt cho chúng ta.<!-- --></p><p class="css-1ccrm8j">Nếu, như trong trường hợp của chúng ta, nhánh thứ hai là <!-- --><code class="css-0">identity</code>, chúng ta có thể sử dụng <!-- --><code class="css-0">when</code> thay vì <!-- --><code class="css-0">ifElse</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">alwaysDrivingAge</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">when</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nếu nhánh đầu tiên của điều kiện là <!-- --><code class="css-0">identity</code>, chúng ta có thể sử dụng <!-- --><code class="css-0">unless</code>. Nếu chúng ta đảo ngược điều kiện của chúng ta để sử dụng <!-- --><code class="css-0">gte(__, 16)</code>, chúng ta có thể sử dụng <!-- --><code class="css-0">unless</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">alwaysDrivingAge</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unless</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h3 class="css-1o6lusp">cond</h3><p class="css-1ccrm8j">Ramda cũng cung cấp hàm <!-- --><code class="css-0">cond</code> để có thể thay thế <!-- --><code class="css-0">switch</code> hoặc một chuỗi các câu lệnh <!-- --><code class="css-0">if...then...else</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">water</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">temperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water freezes at 0°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water boils at 100°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">temp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string string" style="color:rgb(173, 219, 103)">nothing special happens at </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">temp</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(173, 219, 103)">°C</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">temperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Chúng ta đã cùng xem xét một số hàm mà Ramda cung cấp để chuyển đổi code từ imperative sang declarative.</p><p class="css-1ccrm8j">Bạn có thể nhận thấy rằng vài hàm cuối cùng chúng ta đã viết (<!-- --><code class="css-0">forever21</code>, <!-- --><code class="css-0">drivingAge</code>, and <!-- --><code class="css-0">water</code>) tất cả đều nhận vào một tham số, xây dựng một hàm mới và sau đó áp dụng hàm đó cho tham số.<!-- --></p><p class="css-1ccrm8j">Đây là một mô hình phổ biến, và một lần nữa Ramda cung cấp các công cụ để làm gọn cấu trúc này. Phần tiếp theo, Pointfree Style sẽ xem xét làm thế nào để đơn giản hóa các hàm theo mẫu này.</p><h1 class="css-1u31ba2">Pointfree style</h1><p class="css-1ccrm8j">Trong phần 4, chúng ta đã nói về việc viết code theo cách declarative (nói với máy tính phải làm gì) thay vì imperative (nói với máy tính làm như thế nào).</p><p class="css-1ccrm8j">Bạn có thể nhận thấy rằng một vài hàm mà chúng ta đã viết (<!-- --><code class="css-0">forever21</code>, <!-- --><code class="css-0">drivingAge</code> và <!-- --><code class="css-0">water</code>) đều nhận vào một tham số, xây dựng một hàm mới và sau đó áp dụng hàm đó cho tham số.<!-- --></p><p class="css-1ccrm8j">Đây là một mô hình rất phổ biến trong lập trình hàm, và một lần nữa Ramda cung cấp các công cụ để làm gọn cách viết này.</p><h2 class="css-kih3f7">Pointfree style</h2><p class="css-1ccrm8j">Có hai nguyên tắc chính của Ramda mà chúng ta đã nói tới trong phần 3:</p><ul class="css-15rlv7r"><li class="css-0">Đặt dữ liệu cuối cùng</li><li class="css-0">Curry tất cả mọi thứ</li></ul><p class="css-1ccrm8j">Hai nguyên tắc này dẫn đến một phong cách mà các lập trình viên hàm gọi là &quot;pointfree&quot;.</p><p class="css-1ccrm8j">Có một bài viết tuyệt vời, <!-- --><a href="http://fr.umio.us/why-ramda/" class="css-1bw77fa">Why Ramda?</a>, minh họa phong cách pointfree rất hay.<!-- --></p><p class="css-1ccrm8j">Chúng ta chưa có các công cụ cần thiết để làm cho tất cả các ví dụ của chúng ta hoàn toàn pointfree, nhưng chúng ta có thể bắt đầu.</p><p class="css-1ccrm8j">Chúng ta hãy nhìn vào <!-- --><code class="css-0">forever21</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">forever21</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng độ tuổi <!-- --><code class="css-0">age</code> chỉ xuất hiện hai lần: một lần trong danh sách tham số và một lần ở cuối của hàm khi chúng ta áp dụng hàm mới được trả về bởi <!-- --><code class="css-0">ifElse</code>.<!-- --></p><p class="css-1ccrm8j">Nếu chúng ta để ý trong khi làm việc với Ramda, chúng ta sẽ thấy mẫu này rất nhiều. Nó có nghĩa là có một cách để chuyển đổi hàm sang phong cách pointfree.</p><p class="css-1ccrm8j">Hãy xem nó sẽ như thế nào:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> forever21 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Và, poof! Chúng ta vừa làm cho số tuổi <!-- --><code class="css-0">age</code> biến mất. Phong cách pointfree. Lưu ý rằng không có sự khác biệt về hành vi trong hai phiên bản này. Chúng ta vẫn trả lại một hàm nhận vào số tuổi, nhưng bây giờ chúng ta không chỉ rõ tham số tuổi <!-- --><code class="css-0">age</code>.<!-- --></p><p class="css-1ccrm8j">Chúng ta có thể làm tương tự với <!-- --><code class="css-0">alwaysDrivingAge</code> và <!-- --><code class="css-0">water</code>.<!-- --></p><p class="css-1ccrm8j">Trong bài viết trước, <!-- --><code class="css-0">alwaysDrivingAge</code> trông như sau:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">alwaysDrivingAge</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ifElse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> identity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta có thể áp dụng cùng một phép biến đổi để làm cho nó trở nên pointfree.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> alwaysDrivingAge </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">when</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">lt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Và đây là cách chúng ta đã viết <!-- --><code class="css-0">water</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">water</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">temperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water freezes at 0°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water boils at 100°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">temp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string string" style="color:rgb(173, 219, 103)">nothing special happens at </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">temp</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(173, 219, 103)">°C</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">temperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Và đây là <!-- --><code class="css-0">water</code> theo phong cách pointfree:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> water </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cond</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water freezes at 0°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;water boils at 100°C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token constant" style="color:rgb(130, 170, 255)">T</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">temp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string string" style="color:rgb(173, 219, 103)">nothing special happens at </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">temp</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(173, 219, 103)">°C</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2 class="css-kih3f7">Hàm đa tham số (multi-argument-functions)</h2><p class="css-1ccrm8j">Vậy các hàm có nhiều hơn một tham số thì sao ? Chúng ta hãy nhìn lại ví dụ <!-- --><code class="css-0">titlesForYear</code> từ phần 3.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> titlesForYear </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">books</code> chỉ xuất hiện hai lần: một lần là tham số cuối cùng trong danh sách đối số (dữ liệu cuối cùng!), Và một lần ở cuối của hàm khi chúng ta áp dụng đường ống vào nó. Điều này cũng tương tự như mô hình chúng ta thấy với độ tuổi ở trên, do đó hãy áp dụng cùng một sự chuyển đổi với nó:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">titlesForYear</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">publishedInYear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nó hoạt động! Bây giờ chúng ta có một phiên bản pointfree cho <!-- --><code class="css-0">titlesForYear</code>.<!-- --></p><p class="css-1ccrm8j">Thực tế thì chúng ta sẽ không hướng tới phong cách pointfree trong trường hợp này vì JavaScript không làm cho việc gọi hàm với một loạt các tham số được thuận tiện, như chúng ta đã thảo luận trong các bài viết trước đó.</p><p class="css-1ccrm8j">Nếu chúng ta muốn sử dụng <!-- --><code class="css-0">titlesForYear</code> trong một đường ống, nó vẫn ổn. Chúng ta có thể gọi <!-- --><code class="css-0">titleForYear(2012)</code> rất dễ dàng. Nhưng nếu chúng ta muốn sử dụng nó một cách tự nhiên, chúng ta phải quay trở lại mô hình <!-- --><code class="css-0">}(</code> mà chúng ta đã thấy trong bài trước: <!-- --><code class="css-0">titlesForYear(2012)(books)</code>. Điều đó không đáng để đánh đổi.<!-- --></p><p class="css-1ccrm8j">Nhưng bất cứ lúc nào có hàm một tham số theo (hoặc có thể được refactor để theo) mô hình trên, bạn sẽ có thể làm cho nó pointfree.</p><h2 class="css-kih3f7">Refactor thành pointfree</h2><p class="css-1ccrm8j">Sẽ có những lúc các hàm của chúng ta không theo khuôn mẫu. Chúng ta có thể đang vận hành trên dữ liệu nhiều lần trong cùng một hàm.</p><p class="css-1ccrm8j">Đây là trường hợp trong một số ví dụ trong phần 2. Trong những ví dụ này, chúng ta đã tái cấu trúc code để kết hợp các hàm bằng cách sử dụng <!-- --><code class="css-0">both</code>, <!-- --><code class="css-0">either</code>, <!-- --><code class="css-0">pipe</code> và <!-- --><code class="css-0">compose</code>. Một khi chúng ta đã thực hiện điều đó, làm cho các hàm của chúng ta pointfree là một sự chuyển đổi tương đối dễ dàng.<!-- --></p><p class="css-1ccrm8j">Chúng ta hãy nhìn lại ví dụ <!-- --><code class="css-0">isEligibleToVote</code>. Đây là nơi chúng ta bắt đầu:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isCitizen</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEligibleToVote</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Hãy bắt đầu với <!-- --><code class="css-0">isCitizen</code>. Nó nhận vào một người <!-- --><code class="css-0">person</code> và sau đó áp dụng hai hàm khác nhau cho người đó, kết hợp các kết quả với <!-- --><code class="css-0">||</code>. Như chúng ta đã học trong phần 2, chúng ta có thể sử dụng <!-- --><code class="css-0">either</code> để kết hợp hai hàm vào một hàm số mới trước, và sau đó áp dụng hàm kết hợp với người đó <!-- --><code class="css-0">person</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isCitizen</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Chúng ta có thể làm điều tương tự với <!-- --><code class="css-0">isEligibleToVote</code> bằng <!-- --><code class="css-0">both</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isEligibleToVote</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Bây giờ chúng ta đã thực hiện việc tái cấu trúc này, chúng ta có thể thấy rằng cả hai hàm đều làm theo mô hình chúng ta đã nói ở trên: <!-- --><code class="css-0">person</code> được nhắc đến hai lần, một lần là tham số hàm, và một lần ở cuối khi chúng ta áp dụng hàm kết hợp với nó. Bây giờ chúng ta có thể refactor theo phong cách pointfree:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isCitizen </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isEligibleToVote </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2 class="css-kih3f7">Tại sao?</h2><p class="css-1ccrm8j">Phong cách pointfree cần có thời gian để làm quen. Có thể khó để thích ứng với các tham số dữ liệu bị thiếu ở mọi nơi. Điều quan trọng là phải có một sự quen thuộc với các hàm của Ramda để biết có bao nhiêu tham số cần thiết.</p><p class="css-1ccrm8j">Nhưng một khi bạn đã quen với nó, nó sẽ trở nên rất có giá trị để có một loạt các hàm pointfree nhỏ kết hợp với nhau theo những cách thú vị.</p><p class="css-1ccrm8j">Lợi thế của phong cách pointfree là gì? Có người lập luận rằng đó chỉ là một bài tập học thuật được thiết kế để giành được huy hiệu mệnh danh lập trình hàm. Tuy nhiên, nó có một vài lợi thế, mặc dù phải mất thời gian để làm quen:</p><ul class="css-15rlv7r"><li class="css-0">Nó làm cho các chương trình đơn giản và súc tích hơn (Đây không phải luôn luôn là một điều tốt).</li><li class="css-0">Nó làm cho các thuật toán rõ ràng hơn. Bằng cách chỉ tập trung vào các hàm được kết hợp, chúng ta có được một cảm nhận tốt hơn về những gì đang xảy ra khi không có các tham số dữ liệu.</li><li class="css-0">Nó buộc chúng ta suy nghĩ nhiều hơn về việc chuyển đổi đang được thực hiện hơn là về dữ liệu đang được chuyển đổi.</li><li class="css-0">Nó giúp chúng ta suy nghĩ về các hàm của chúng ta như các khối xây dựng thông thường, có thể làm việc với các loại dữ liệu khác nhau, hơn là nghĩ về chúng như các hoạt động trên một loại dữ liệu cụ thể. Bằng cách cung cấp cho dữ liệu một cái tên, chúng ta đang hạn chế suy nghĩ của chúng ta về nơi mà chúng ta có thể sử dụng hàm. Bằng cách bỏ qua dữ liệu, nó cho phép chúng ta sáng tạo hơn.</li></ul><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Phong cách pointfree, còn được gọi là <!-- --><a href="https://en.wikipedia.org/wiki/Tacit_programming" class="css-1bw77fa">tacit programming</a>, có thể làm cho code của chúng ta rõ ràng và dễ hiểu hơn. Bằng cách tái cấu trúc code của chúng ta để kết hợp tất cả biến đổi của chúng ta thành một hàm duy nhất, chúng ta sẽ kết thúc với các khối xây dựng nhỏ hơn, có thể được sử dụng ở nhiều nơi hơn.<!-- --></p><p class="css-1ccrm8j">Trong ví dụ của chúng ta, chúng ta đã không thể refactor tất cả mọi thứ thành pointfree. Chúng ta vẫn có code được viết theo cách imperative. Hầu hết các code này xử lý các đối tượng và mảng.</p><p class="css-1ccrm8j">Chúng ta cần tìm những cách tương tác khác với các đối tượng và mảng. Vậy tính bất biến thì sao? Làm thế nào  để chúng ta thao tác với các đối tượng và mảng theo cách bất biến?</p><h1 class="css-1u31ba2">Tính bất biến và đối tượng</h1><p class="css-1ccrm8j">Trong phần 5, chúng ta đã nói về cách viết các hàm của chúng ta theo kiểu &quot;pointfree&quot; hoặc &quot;tacit&quot;, khi mà đối số chính của hàm không được hiển thị rõ ràng.</p><p class="css-1ccrm8j">Vào thời điểm đó, chúng ta đã không thể chuyển đổi tất cả các hàm thành pointfree bởi vì chúng ta thiếu một số công cụ. Đã đến lúc học các công cụ này.</p><h2 class="css-kih3f7">Đọc thuộc tính của đối tượng</h2><p class="css-1ccrm8j">Chúng ta hãy nhìn lại ví dụ về các cử tri hợp lệ trong phần 5:</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isCitizen </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">either</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">wasBornInCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> wasNaturalized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isEligibleToVote </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">both</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isOver18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> isCitizen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Như bạn thấy, chúng ta đã chuyển đổi <!-- --><code class="css-0">isCitizen</code> và <!-- --><code class="css-0">isEligibleToVote</code> thành pointfree, nhưng chúng ta không thể làm điều đó với ba hàm đầu tiên.<!-- --></p><p class="css-1ccrm8j">Như chúng ta đã học trong phần 4, chúng ta có thể làm cho các hàm declarative hơn bằng <!-- --><code class="css-0">equals</code> và <!-- --><code class="css-0">gte</code>. Hãy bắt đầu từ đó.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">birthCountry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">naturalizationDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Để làm cho các hàm này pointfree, chúng ta cần một cách để xây dựng hàm mà sau đó chúng ta có thể áp dụng cho <!-- --><code class="css-0">person</code>. Vấn đề là chúng ta cần truy cập vào các thuộc tính của <!-- --><code class="css-0">person</code> và cách duy nhất chúng ta biết là làm điều đó theo cách imperative.<!-- --></p><h3 class="css-1o6lusp">prop</h3><p class="css-1ccrm8j">May mắn thay, Ramda có thể giúp chúng ta. Nó cung cấp hàm <!-- --><code class="css-0">prop</code> để truy cập các thuộc tính của một đối tượng.<!-- --></p><p class="css-1ccrm8j">Sử dụng <!-- --><code class="css-0">prop</code>, chúng ta có thể biến <!-- --><code class="css-0">person.birthCountry</code> thành <!-- --><code class="css-0">prop(&#x27;birthCountry&#x27;, person)</code>. Hãy bắt đầu với điều đó.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Wow, trông bây giờ tệ hơn nhiều. Nhưng chúng ta hãy tiếp tục với refactoring. Thứ nhất, chúng ta hãy hoán đổi thứ tự của các đối số mà chúng ta truyền cho <!-- --><code class="css-0">equals</code> để <!-- --><code class="css-0">prop</code> đến cuối cùng. <!-- --><code class="css-0">equals</code> hoạt động như nhau đối với cả hai thứ tự, vì vậy điều này là an toàn.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Tiếp theo, chúng ta hãy sử dụng tính chất curried của <!-- --><code class="css-0">equals</code> và <!-- --><code class="css-0">gte</code> để tạo các hàm mới mà chúng ta sẽ áp dụng cho kết quả của các lệnh gọi <!-- --><code class="css-0">prop</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nó thậm chí còn tệ hơn trước, nhưng hãy tiếp tục nào. Hãy tận dụng lợi thế của currying một lần nữa với tất cả các lệnh gọi <!-- --><code class="css-0">prop</code>.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Tệ hơn nữa. Nhưng bây giờ chúng ta thấy một mẫu quen thuộc. Cả ba hàm của chúng ta có cùng hình dạng với <!-- --><code class="css-0">f(g(person))</code>, và chúng ta biết từ phần 2 rằng điều này tương đương với <!-- --><code class="css-0">compose(f, g)(person)</code>.<!-- --></p><p class="css-1ccrm8j">Hãy tận dụng điều đó.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasBornInCountry</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">wasNaturalized</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">isOver18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Bây giờ tất cả ba hàm trông giống như <!-- --><code class="css-0">person =&gt; f(person)</code>. Chúng ta biết từ phần 5 rằng chúng ta có thể làm cho các hàm này pointfree.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> wasBornInCountry </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">OUR_COUNTRY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;birthCountry&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> wasNaturalized </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;naturalizationDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> isOver18 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">gte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Khi bắt đầu, thật khó để nhận ra rằng các hàm của chúng ta đã làm hai việc khác nhau. Cả hai đều truy cập thuộc tính của một đối tượng và thực hiện một số tác vụ dựa trên giá trị của thuộc tính đó. Việc tái cấu trúc này theo phong cách pointfree đã làm cho điều đó rất rõ ràng.</p><p class="css-1ccrm8j">Hãy nhìn vào một số công cụ khác mà Ramda cung cấp để làm việc với các đối tượng.</p><h3 class="css-1o6lusp">pick</h3><p class="css-1ccrm8j">Trong khi <!-- --><code class="css-0">prop</code> đọc một thuộc tính từ một đối tượng và trả về giá trị, <!-- --><code class="css-0">pick</code> đọc nhiều thuộc tính từ một đối tượng và trả về một đối tượng mới chỉ với các thuộc tính đó.<!-- --></p><p class="css-1ccrm8j">Ví dụ: nếu muốn lấy tên và tuổi của một người, chúng ta có thể sử dụng <!-- --><code class="css-0">pick([&#x27;name&#x27;, &#x27;age&#x27;), person)</code>.<!-- --></p><h3 class="css-1o6lusp">has</h3><p class="css-1ccrm8j">Nếu chúng ta chỉ muốn biết nếu một đối tượng có một thuộc tính hay không mà không cần đọc giá trị của nó thì chúng ta có thể sử dụng <!-- --><code class="css-0">has</code> để kiểm tra thuộc tính của chính nó, và <!-- --><code class="css-0">hasIn</code> để kiểm tra chuỗi prototype: <!-- --><code class="css-0">has(&#x27;name&#x27;, person)</code>.<!-- --></p><h3 class="css-1o6lusp">path</h3><p class="css-1ccrm8j">Trong khi <!-- --><code class="css-0">prop</code> đọc một thuộc tính từ một đối tượng, <!-- --><code class="css-0">path</code> đi vào các đối tượng lồng nhau. Ví dụ: chúng ta có thể truy cập mã zip từ cấu trúc sâu hơn dưới dạng <!-- --><code class="css-0">path([&#x27;address&#x27;, &#x27;zipCode&#x27;), person)</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">path</code> &quot;khoan dung&quot; hơn <!-- --><code class="css-0">prop</code>. <!-- --><code class="css-0">path</code> sẽ trả lại <!-- --><code class="css-0">undefined</code> nếu bất cứ điều gì dọc theo đường dẫn (bao gồm cả các đối số ban đầu) là <!-- --><code class="css-0">null</code> hoặc <!-- --><code class="css-0">undefined</code> trong khi <!-- --><code class="css-0">prop</code> sẽ gây ra một lỗi.<!-- --></p><h3 class="css-1o6lusp">propOr / pathOr</h3><p class="css-1ccrm8j"><code class="css-0">propOr</code> và <!-- --><code class="css-0">pathOr</code> tương tự như <!-- --><code class="css-0">prop</code> và <!-- --><code class="css-0">path</code> kết hợp với <!-- --><code class="css-0">defaultTo</code>. Chúng cho phép bạn cung cấp giá trị mặc định để sử dụng nếu không thể tìm thấy thuộc tính hoặc đường dẫn trong đối tượng đích.<!-- --></p><p class="css-1ccrm8j">Ví dụ: chúng ta có thể cung cấp một placeholder khi chúng ta không biết tên của một người: <!-- --><code class="css-0">propOr(&#x27;&lt;Unnamed&gt;&#x27;, &#x27;name&#x27;, person)</code>. Lưu ý rằng không giống như <!-- --><code class="css-0">prop</code>, <!-- --><code class="css-0">propOr</code> sẽ không gây ra một lỗi nếu <!-- --><code class="css-0">person</code> là <!-- --><code class="css-0">null</code> hoặc <!-- --><code class="css-0">undefined</code>; nó sẽ trả về giá trị mặc định.<!-- --></p><h3 class="css-1o6lusp">keys / values</h3><p class="css-1ccrm8j"><code class="css-0">keys</code> trả về một mảng có chứa tên của tất cả các thuộc tính của chính nó trong một đối tượng. <!-- --><code class="css-0">values</code> trả về các giá trị của các thuộc tính đó. Các hàm này có thể hữu ích khi kết hợp với các hàm lặp trên tập hợp mà chúng ta đã học được trong phần 1.<!-- --></p><h2 class="css-kih3f7">Thêm, cập nhật và xóa thuộc tính</h2><p class="css-1ccrm8j">Bây giờ chúng ta có rất nhiều công cụ để đọc từ các đối tượng một cách declarative, nhưng khi chúng ta muốn thay đổi thì sao?</p><p class="css-1ccrm8j">Vì tính bất biến là quan trọng, chúng ta không muốn thay đổi trực tiếp các đối tượng. Thay vào đó, chúng ta muốn trả lại các đối tượng mới đã được thay đổi theo cách chúng ta muốn.</p><p class="css-1ccrm8j">Một lần nữa, Ramda cung cấp rất nhiều sự giúp đỡ cho chúng ta.</p><h3 class="css-1o6lusp">assoc / assocPath</h3><p class="css-1ccrm8j">Khi lập trình theo cách imperative, chúng ta có thể thiết lập hoặc thay đổi tên của một người với toán tử gán: <!-- --><code class="css-0">person.name = &#x27;New name&#x27;</code>.<!-- --></p><p class="css-1ccrm8j">Trong thế giới functional và bất biến, chúng ta sử dụng <!-- --><code class="css-0">assoc</code>: <!-- --><code class="css-0">const updatedPerson = assoc(&#x27;name&#x27;, &#x27;New name&#x27;, person)</code>.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">assoc</code> trả về một đối tượng mới với giá trị thuộc tính được cập nhật, để đối tượng ban đầu không thay đổi.<!-- --></p><p class="css-1ccrm8j">Ngoài ra còn có <!-- --><code class="css-0">assocPath</code> để cập nhật một thuộc tính lồng nhau: <!-- --><code class="css-0">const updatedPerson = assocPath([&#x27;address&#x27;, &#x27;zipcode&#x27;], &#x27;97504&#x27;, person)</code>.<!-- --></p><h3 class="css-1o6lusp">dissoc / dissocPath / omit</h3><p class="css-1ccrm8j">Việc xoá thuộc tính thì sao? Theo cách imperative, chúng ta có thể muốn xóa <!-- --><code class="css-0">person.age</code>. Trong Ramda, chúng ta sẽ sử dụng <!-- --><code class="css-0">dissoc</code>: <!-- --><code class="css-0">const updatedPerson = dissoc(&#x27;age&#x27;, person)</code>.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">dissocPath</code> tương tự, nhưng hoạt động sâu hơn vào cấu trúc của đối tượng: <!-- --><code class="css-0">dissocPath([&#x27;address&#x27;, &#x27;zipCode&#x27;]), person)</code>.<!-- --></p><p class="css-1ccrm8j">Cũng có <!-- --><code class="css-0">omit</code>, có thể loại bỏ một số thuộc tính cùng một lúc. <!-- --><code class="css-0">const updatedPerson = omit([&#x27;age&#x27;, &#x27;birthCountry&#x27;], person)</code>.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">pick</code> và <!-- --><code class="css-0">omit</code> là khá tương tự và bổ sung cho nhau. Chúng rất tiện dụng cho white-listing (chỉ giữ lại các thuộc tính này bằng <!-- --><code class="css-0">pick</code>) hoặc black-listing (loại bỏ các thuộc tính này bằng <!-- --><code class="css-0">omit</code>).<!-- --></p><h2 class="css-kih3f7">Chuyển đổi các thuộc tính</h2><p class="css-1ccrm8j">Bây giờ chúng ta đã biết đủ để làm việc với các đối tượng theo một cách declarative và bất biến. Hãy viết một hàm, <!-- --><code class="css-0">celebrateBirthday</code>, cập nhật tuổi của một người vào sinh nhật của họ.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> nextAge </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">celebrateBirthday</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assoc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;age&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nextAge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Đây là một mẫu (pattern) khá phổ biến. Thay vì cập nhật thuộc tính đến một giá trị mới được biết, chúng ta thực sự muốn chuyển đổi giá trị bằng cách áp dụng một hàm cho giá trị cũ như chúng ta đã làm ở đây.</p><p class="css-1ccrm8j">Có cách nào để viết lại <!-- --><code class="css-0">celebrateBirthday</code> với sự trùng lặp ít hơn và theo phong cách pointfree dựa trên các công cụ chúng ta biết?<!-- --></p><p class="css-1ccrm8j">Ramda giải cứu chúng ta một lần nữa với hàm <!-- --><code class="css-0">evolve</code> của nó.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">evolve</code> có một đối tượng xác định một hàm chuyển đổi cho mỗi thuộc tính được chuyển đổi. Hãy tái tổ chức lại <!-- --><code class="css-0">celebrateBirthday</code> để sử dụng <!-- --><code class="css-0">evolve</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> celebrateBirthday </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">evolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">age</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> inc </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">Copycopy code to clipboard1const celebrateBirthday = evolve({ age: inc })</code></p><p class="css-1ccrm8j">Code này để phát triển đối tượng đích (không được hiển thị ở đây vì phong cách pointfree) bằng cách tạo ra một đối tượng mới có cùng các thuộc tính và giá trị, nhưng <!-- --><code class="css-0">age</code> của nó có được bằng cách áp dụng <!-- --><code class="css-0">inc</code> với giá trị <!-- --><code class="css-0">age</code> gốc.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">evolve</code> có thể chuyển đổi nhiều thuộc tính cùng một lúc và ở nhiều cấp độ nesting. Đối tượng chuyển đổi có thể có cùng hình dạng với đối tượng đang được tiến hóa và <!-- --><code class="css-0">evolve</code> sẽ đệ quy qua các cấu trúc, áp dụng các hàm chuyển đổi khi nó đi.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">evolve</code> sẽ không thêm thuộc tính mới; nếu bạn chỉ định một sự chuyển đổi cho một thuộc tính không xuất hiện trong đối tượng đích, thì <!-- --><code class="css-0">evolve</code> sẽ bỏ qua nó.<!-- --></p><h2 class="css-kih3f7">Hợp nhất các đối tượng</h2><p class="css-1ccrm8j">Đôi khi, bạn sẽ muốn hợp nhất hai đối tượng lại với nhau. Một trường hợp phổ biến là khi bạn có một hàm có các tùy chọn (options) và bạn muốn kết hợp các tùy chọn này với một bộ các tùy chọn mặc định. Ramda cung cấp <!-- --><code class="css-0">merge</code> cho mục đích này.<!-- --></p><div class="gatsby-highlight" data-language="jsx"><pre class="prism-code language-jsx" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-jsx"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> b</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> options </span><span class="token parameter operator" style="color:rgb(127, 219, 202)">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> defaultOptions </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">value</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">local</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> finalOptions </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">defaultOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">merge</code> trả về một đối tượng mới có chứa tất cả các thuộc tính và giá trị từ cả hai đối tượng. Nếu cả hai đối tượng có cùng một thuộc tính, giá trị từ tham số thứ hai sẽ được sử dụng.<!-- --></p><p class="css-1ccrm8j">Tham số thứ hai chiến thắng có ý nghĩa khi sử dụng <!-- --><code class="css-0">merge</code> bởi chính nó, nhưng ít có giá trị trong một tình huống đường ống (pipe). Trong trường hợp đó, bạn thường thực hiện một loạt các biến đổi đối với một đối tượng và một trong những biến đổi đó là hợp nhất một số giá trị của thuộc tính mới. Trong trường hợp này, bạn muốn tham số đầu tiên giành chiến thắng.<!-- --></p><p class="css-1ccrm8j">Đơn giản chỉ sử dụng <!-- --><code class="css-0">merge(newValues)</code> trong đường ống sẽ không làm những gì bạn mong đợi.<!-- --></p><p class="css-1ccrm8j">Đối với tình huống này, chúng ta có thể định nghĩa một hàm tiện ích gọi là <!-- --><code class="css-0">reverseMerge</code>. Nó có thể được viết như <!-- --><code class="css-0">const reversMerge = flip(merge)</code>. Nhớ lại rằng <!-- --><code class="css-0">flip</code> đảo ngược hai đối số đầu tiên của hàm mà nó được áp dụng.<!-- --></p><p class="css-1ccrm8j"><code class="css-0">merge</code> thực hiện một sự hợp nhất cạn (shallow merge). Nếu các đối tượng đang được hợp nhất cả hai đều có một thuộc tính có giá trị là một đối tượng phụ, những đối tượng con đó sẽ không được hợp nhất. Ramda hiện không có khả năng &quot;hợp nhất sâu&quot;, nơi các đối tượng con được hợp nhất đệ quy.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">merge</code> chỉ nhận hai đối số. Nếu bạn muốn hợp nhất nhiều đối tượng vào một, <!-- --><code class="css-0">mergeAll</code> có một mảng các đối tượng sẽ được hợp nhất.<!-- --></p><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Bài viết này đã cho chúng ta một bộ công cụ để làm việc với các đối tượng theo cách declarative và bất biến. Bây giờ chúng ta có thể đọc, thêm, cập nhật, xoá và chuyển đổi thuộc tính trong các đối tượng mà không thay đổi đối tượng gốc. Và chúng ta có thể làm những điều này dựa trên sự kết hợp các hàm.</p><p class="css-1ccrm8j">Bây giờ chúng ta có thể làm việc với các đối tượng một cách bất biến, còn mảng thì sao?</p><h1 class="css-1u31ba2">Tính bất biến và mảng</h1><p class="css-1ccrm8j">Trong phần 6, chúng ta đã nói về làm việc với các đối tượng trong JavaScript theo cách functional và bất biến.</p><p class="css-1ccrm8j">Trong bài viết này, chúng ta sẽ làm tương tự cho các mảng.</p><h2 class="css-kih3f7">Đọc phần tử mảng</h2><p class="css-1ccrm8j">Trong phần 6, chúng ta đã học về các hàm Ramda khác nhau để đọc thuộc tính đối tượng, bao gồm <!-- --><code class="css-0">prop</code>, <!-- --><code class="css-0">pick</code>, và <!-- --><code class="css-0">has</code>. Ramda có nhiều phương pháp để đọc các phần tử mảng.<!-- --></p><p class="css-1ccrm8j">Tương đương của <!-- --><code class="css-0">prop</code> là <!-- --><code class="css-0">nth</code>; tương đương với <!-- --><code class="css-0">pick</code> là <!-- --><code class="css-0">slice</code>, và tương đương với <!-- --><code class="css-0">has</code> là <!-- --><code class="css-0">contains</code>. Hãy nhìn vào những hàm này.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">nth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; 40  (0-based indexing)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">nth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; 50 (negative numbers start from the right)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">slice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [30, 40, 50] (see below)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">contains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; true</span></div></code></pre></div><p class="css-1ccrm8j"><code class="css-0">slice</code> nhận hai index và trả về mảng phụ bắt đầu từ index đầu tiên (0-based) và bao gồm tất cả các phần tử được tạo ra, nhưng không bao gồm index thứ hai.<!-- --></p><p class="css-1ccrm8j">Truy cập các phần tử đầu tiên (<!-- --><code class="css-0">nth(0)</code>) và cuối cùng (<!-- --><code class="css-0">nth(-1)</code>) là khá phổ biến, vì vậy Ramda cung cấp các phím tắt cho những trường hợp đặc biệt, <!-- --><code class="css-0">head</code> và <!-- --><code class="css-0">last</code>. Nó cũng cung cấp các hàm để truy cập vào phần tử all-but-the-first (<!-- --><code class="css-0">tail</code>), phần tử all-but-the-last (<!-- --><code class="css-0">init</code>), N phần tử đầu tiên (<!-- --><code class="css-0">take(N)</code>) và N phần tử N cuối cùng (<!-- --><code class="css-0">takeLast(N)</code>). Hãy xem những hàm này.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">head</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; 10</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [20, 30, 40, 50, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">last</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; 60</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30, 40, 50]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">take</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">takeLast</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [40, 50, 60]</span></div></code></pre></div><h2 class="css-kih3f7">Thêm, cập nhật và xóa các phần tử mảng</h2><p class="css-1ccrm8j">Đối với các đối tượng, chúng ta đã học về <!-- --><code class="css-0">assoc</code>, <!-- --><code class="css-0">dissoc</code>, và <!-- --><code class="css-0">omit</code> để thêm, cập nhật và loại bỏ các thuộc tính.<!-- --></p><p class="css-1ccrm8j">Bởi vì các mảng là một cấu trúc dữ liệu theo trình tự, có một số phương pháp thực hiện cùng công việc như <!-- --><code class="css-0">assoc</code>. Phổ biến nhất là <!-- --><code class="css-0">insert</code> và <!-- --><code class="css-0">update</code>, nhưng Ramda cũng cung cấp <!-- --><code class="css-0">append</code> và <!-- --><code class="css-0">prepend</code> cho trường hợp phổ biến để thêm các phần tử ở đầu hoặc cuối của mảng. <!-- --><code class="css-0">insert</code>, <!-- --><code class="css-0">append</code>, và <!-- --><code class="css-0">prepend</code> thêm các phần tử mới vào mảng; <!-- --><code class="css-0">update</code> &quot;thay thế&quot; một phần tử bằng một giá trị mới.<!-- --></p><p class="css-1ccrm8j">Như bạn có thể mong đợi từ một thư viện lập trình hàm, tất cả các hàm này trả lại một mảng mới với những thay đổi mong muốn; mảng ban đầu là không bao giờ thay đổi.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">insert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">35</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30, 35, 40, 50, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">70</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30, 40, 50, 60, 70]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">prepend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [0, 10, 20, 30, 40, 50, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">update</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 15, 30, 40, 50, 60]</span></div></code></pre></div><p class="css-1ccrm8j">Để kết hợp hai đối tượng thành một, chúng ta đã học về <!-- --><code class="css-0">merge</code>. Ramda cung cấp <!-- --><code class="css-0">concat</code> để làm tương tự với mảng.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">concat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">70</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">90</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30, 40, 50, 60, 70, 80, 90]</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng mảng thứ hai được nối vào mảng đầu tiên. Điều này có vẻ đúng khi được sử dụng bởi chính nó, nhưng như với <!-- --><code class="css-0">merge</code>, nó không thể làm những gì bạn mong đợi khi sử dụng trong một đường ống. Nó hữu ích để xây dựng một hàm trợ giúp <!-- --><code class="css-0">concatAfter</code>: <!-- --><code class="css-0">const concatAfter = flip(concat)</code> để sử dụng trong đường ống.<!-- --></p><p class="css-1ccrm8j">Ramda cũng cung cấp một số tùy chọn để loại bỏ các phần tử. <!-- --><code class="css-0">remove</code> loại bỏ các phần tử theo index, trong khi <!-- --><code class="css-0">without</code> loại bỏ chúng theo giá trị. Ngoài ra còn có <!-- --><code class="css-0">drop</code> và <!-- --><code class="css-0">dropLast</code> cho trường hợp thông dụng cần loại bỏ các phần tử đầu hoặc cuối của mảng.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">remove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">without</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">drop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [40, 50, 60]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">dropLast</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 30]</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">remove</code> nhận một index và một số đếm trong khi đó <!-- --><code class="css-0">slice</code> nhận hai index. Sự không thống nhất này có thể gây nhầm lẫn nếu bạn không để ý đến nó.<!-- --></p><h2 class="css-kih3f7">Chuyển đổi các phần tử</h2><p class="css-1ccrm8j">Giống như đối tượng, chúng ta có thể muốn cập nhật một phần tử mảng bằng cách áp dụng một hàm cho giá trị ban đầu.</p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">update</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; [10, 20, 300, 40, 50, 60]</span></div></code></pre></div><p class="css-1ccrm8j">Để đơn giản hóa trường hợp sử dụng phổ biến này, Ramda cung cấp <!-- --><code class="css-0">adjust</code> hoạt động tương tự như <!-- --><code class="css-0">evolve</code> đối với các đối tượng. Không giống như <!-- --><code class="css-0">evolve</code>, <!-- --><code class="css-0">adjust</code> chỉ hoạt động cho một phần tử mảng đơn.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> numbers </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">adjust</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">multiply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng hai đối số đầu tiên của <!-- --><code class="css-0">adjust</code> được đổi chỗ khi so sánh với <!-- --><code class="css-0">update</code>. Đây có thể là một nguồn gây nhầm lẫn, nhưng nó có ý nghĩa khi bạn cân nhắc việc áp dụng từng phần. Bạn có thể muốn cung cấp một hàm điều chỉnh với <!-- --><code class="css-0">adjust(multiply(10))</code> và sau đó quyết định index và m  ảng nào áp dụng hàm điều chỉnh đó.<!-- --></p><h2 class="css-kih3f7">Kết luận</h2><p class="css-1ccrm8j">Bây giờ chúng ta có các công cụ để làm việc với các mảng và các đối tượng theo một cách declarative và bất biến. Điều này cho phép chúng ta xây dựng các chương trình trên các khối xây dựng nhỏ, có hàm, kết hợp các hàm để làm những gì chúng ta cần mà không làm thay đổi cấu trúc dữ liệu.</p><p class="css-1ccrm8j">Chúng ta đã học cách đọc, cập nhật và chuyển đổi các thuộc tính đối tượng và các phần tử mảng. Ramda cung cấp một công cụ tổng quát hơn để thực hiện các hoạt động này, ống kính (lens).</p><h1 class="css-1u31ba2">Lenses</h1><p class="css-1ccrm8j">Trong phần 6 và phần 7, chúng ta đã học cách đọc, cập nhật và chuyển đổi các thuộc tính của đối tượng và các phần tử mảng theo cách declarative và bất biến.</p><p class="css-1ccrm8j">Ramda cung cấp một công cụ tổng quát hơn để thực hiện các tác vụ này, lens (ống kính).</p><h3 class="css-1o6lusp">Lens là gì?</h3><p class="css-1ccrm8j">Lens kết hợp một hàm &quot;getter&quot; và một hàm &quot;setter&quot; vào một đơn vị duy nhất. Ramda cung cấp một bộ các hàm để làm việc với lens.</p><p class="css-1ccrm8j">Chúng ta có thể nghĩ đến lens như một cái gì đó tập trung vào một phần cụ thể của một cấu trúc dữ liệu lớn hơn.</p><h3 class="css-1o6lusp">Làm thế nào để tạo một lens?</h3><p class="css-1ccrm8j">Cách phổ biến nhất để tạo một lens ở Ramda là dùng hàm <!-- --><code class="css-0">lens</code>. <!-- --><code class="css-0">lens</code> nhận vào một hàm getter, một hàm setter và trả về lens mới.<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> person </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Randy&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">socialMedia</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">github</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;randycoulman&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">twitter</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;@randycoulman&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> nameLens </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assoc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> twitterLens </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;socialMedia&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;twitter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">assocPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;socialMedia&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;twitter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Ở đây chúng ta sử dụng <!-- --><code class="css-0">prop</code> và <!-- --><code class="css-0">path</code> như các hàm getter, <!-- --><code class="css-0">assoc</code> và <!-- --><code class="css-0">assocPath</code> như các hàm setter.<!-- --></p><p class="css-1ccrm8j">Lưu ý rằng chúng ta phải sao chép các thuộc tính và đối số đường dẫn đến các hàm này. May mắn thay, Ramda cung cấp các phím tắt cho các trường hợp sử dụng phổ biến nhất của lens: <!-- --><code class="css-0">lensProp</code>, <!-- --><code class="css-0">lensPath</code>, và <!-- --><code class="css-0">lensIndex</code>.<!-- --></p><ul class="css-15rlv7r"><li class="css-0">lensProp` tạo ra một lens tập trung vào một thuộc tính của một đối tượng.</li><li class="css-0">lensPath` tạo ra một lens tập trung vào một thuộc tính lồng nhau của một đối tượng.</li><li class="css-0">lensIndex` tạo ra một lens tập trung vào một phần tử của mảng.</li></ul><p class="css-1ccrm8j">Chúng ta có thể viết lại lens ở trên với <!-- --><code class="css-0">lensProp</code> và <!-- --><code class="css-0">lensPath</code>:<!-- --></p><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> nameLens </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lensProp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> twitterLens </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lensPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;socialMedia&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;twitter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p class="css-1ccrm8j">Nó đơn giản hơn rất nhiều và không bị trùng lắp.</p><h3 class="css-1o6lusp"><strong class="css-0">Tôi có thể làm gì với nó?</strong></h3><p class="css-1ccrm8j">OK, tuyệt vời, chúng ta đã tạo ra một số lens. Chúng ta có thể làm gì với chúng?</p><p class="css-1ccrm8j">Ramda cung cấp ba hàm để làm việc với lens.</p><ul class="css-15rlv7r"><li class="css-0"><code class="css-0">view</code> đọc giá trị của lens.<!-- --></li><li class="css-0"><code class="css-0">set</code> cập nhật giá trị của lens.<!-- --></li><li class="css-0"><code class="css-0">over</code> áp dụng một hàm chuyển đổi cho lens.<!-- --></li></ul><div class="gatsby-highlight" data-language="js"><pre class="prism-code language-js" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-js"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token function" style="color:rgb(130, 170, 255)">view</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nameLens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; &#x27;Randy&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">twitterLens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;@randy&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; {</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   name: &#x27;Randy&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   socialMedia: {</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//     github: &#x27;randycoulman&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//     twitter: &#x27;@randy&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   }</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// }</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">over</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nameLens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> toUpper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> person</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; {</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   name: &#x27;RANDY&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   socialMedia: {</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//     github: &#x27;randycoulman&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//     twitter: &#x27;@randycoulman&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//   }</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// }</span></div></code></pre></div><p class="css-1ccrm8j">Lưu ý rằng <!-- --><code class="css-0">set</code> và <!-- --><code class="css-0">over</code> trả lại toàn bộ đối tượng với thuộc tính của lens được sửa đổi theo chỉ định.<!-- --></p><h3 class="css-1o6lusp">Kết luận</h3><p class="css-1ccrm8j">Các lens có thể hữu ích nếu chúng ta có một cấu trúc dữ liệu phức tạp mà chúng ta muốn trừu tượng hoá. Thay vì phơi bày cấu trúc hoặc cung cấp một bộ getter, setter, và hàm chuyển đổi cho mọi thuộc tính, chúng ta có thể cung cấp các lens.</p><p class="css-1ccrm8j">Code sau đó có thể làm việc với cấu trúc dữ liệu của chúng ta bằng cách sử dụng <!-- --><code class="css-0">view</code>, <!-- --><code class="css-0">set</code> và <!-- --><code class="css-0">over</code> mà không cần phải kết hợp với hình dạng chính xác của cấu trúc.<!-- --></p><p class="css-1ccrm8j">Bây giờ chúng ta đã học được rất nhiều thứ mà Ramda cung cấp; chắc chắn đủ để làm hầu hết những gì chúng ta cần làm trong các chương trình của chúng ta. Phần tiếp theo đánh giá series này và đề cập đến một số chủ đề khác mà chúng ta có thể muốn khám phá thêm.</p><h1 class="css-1u31ba2">Tổng kết</h1><p class="css-1ccrm8j">Chúng ta đã nói về thư viện <!-- --><a href="http://ramdajs.com/" class="css-1bw77fa">Ramda</a> cung cấp các hàm để làm việc với JavaScript theo hướng lập trình hàm, declarative và bất biến.<!-- --></p><p class="css-1ccrm8j">Chúng ta biết rằng Ramda có một số nguyên tắc cơ bản:</p><ul class="css-15rlv7r"><li class="css-0">Dữ liệu cuối cùng: Hầu như tất cả các hàm nhận tham số dữ liệu như là tham số cuối cùng.</li><li class="css-0">Currying: Hầu như mọi hàm trong Ramda đều được &quot;curried&quot;. Nghĩa là, bạn có thể gọi một hàm chỉ với một tập con các tham số yêu cầu, và nó sẽ trả về một hàm mới nhận vào các tham số còn lại. Một khi tất cả các tham số được cung cấp, hàm ban đầu sẽ được thực thi.</li></ul><p class="css-1ccrm8j">Hai nguyên tắc này cho phép chúng ta viết code theo hướng lập trình hàm rất rõ ràng, kết hợp các khối xây dựng cơ bản thành các tác vụ hữu ích hơn.</p><p class="css-1ccrm8j">Chúng ta đã không bao gồm tất cả các phần của Ramda trong series này. Đặc biệt, chúng ta đã không nói về các hàm để làm việc với chuỗi và những khái niệm tiên tiến hơn như <!-- --><a href="http://ramdajs.com/0.21.0/docs/#transduce" class="css-1bw77fa">transducers</a>.<!-- --></p><p class="css-1ccrm8j">Để tìm hiểu thêm về những gì Ramda có thể làm, bạn nên đọc kỹ <!-- --><a href="http://ramdajs.com/docs/" class="css-1bw77fa">tài liệu</a>. Có rất nhiều thông tin ở đó. Tất cả các hàm được nhóm lại theo loại dữ liệu mà chúng hoạt động, mặc dù có sự đan xen nhau. Ví dụ, một số các hàm mảng cũng sẽ làm việc trên chuỗi, và <!-- --><code class="css-0">map</code> hoạt động trên cả mảng và đối tượng.<!-- --></p><p class="css-1ccrm8j">Nếu bạn quan tâm đến các chủ đề lập trình hàm nâng cao hơn, đây là một số nơi bạn có thể tìm hiểu:</p><ul class="css-15rlv7r"><li class="css-0">Transducers: Có một <!-- --><a href="http://simplectic.com/blog/2015/ramda-transducers-logs/" class="css-1bw77fa">bài giới thiệu hay</a> về phân tích logs với các transducers.<!-- --></li><li class="css-0">Các kiểu dữ liệu đại số (ADTs): Nếu bạn đã đọc nhiều về lập trình hàm, bạn có thể sẽ nghe về các kiểu đại số và thuật ngữ như &quot;Functor&quot;, &quot;Applicative&quot; và &quot;Monad&quot;. Nếu bạn quan tâm đến việc khám phá những ý tưởng này trong ngữ cảnh của Ramda, hãy xem thử dự án <!-- --><a href="https://github.com/ramda/ramda-fantasy" class="css-1bw77fa">ramda-fantasy</a>, nó bổ sung một số loại dữ liệu phù hợp với <!-- --><a href="https://github.com/fantasyland/fantasy-land" class="css-1bw77fa">Fantasy Land Specification</a> (aka Algebraic JavaScript Specification).<!-- --></li></ul></section></main><style data-emotion="css y7pay1">.css-y7pay1{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:1rem;}.css-y7pay1 a{color:var(--theme-ui-colors-secondary);-webkit-text-decoration:none;text-decoration:none;}.css-y7pay1 a:hover{color:var(--theme-ui-colors-heading);-webkit-text-decoration:underline;text-decoration:underline;}.css-y7pay1 a:focus{color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-y7pay1{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width: 768px){.css-y7pay1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-y7pay1"><div>© <!-- -->2022<!-- --> by <!-- -->Loc Phan<!-- -->. All rights reserved.<!-- --></div><div><style data-emotion="css 1fmmdck">.css-1fmmdck{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1fmmdck:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/main/themes/gatsby-theme-minimal-blog" class="css-1fmmdck">Theme</a> <!-- -->by<!-- --> <!-- --><a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de?utm_source=minimal-blog&amp;utm_medium=Theme" class="css-1fmmdck">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/thinking-in-ramda";window.___webpackCompilationHash="4ba7ae349547be9edf0e";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-938baaf7d5f1d880562f.js"],"app":["/app-1958255b6317885b58ab.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-2af30e2364ca3bbef446.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-c1f0725676896c4c1cf8.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-375e071b5f5f7d27be29.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-b1e65e8932ecc2a9063e.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-711f5ff2899b3f98bc0c.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-53b3fc92731569801149.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-9bd26dc7e64f7f52f949.js"]};/*]]>*/</script><script src="/polyfill-938baaf7d5f1d880562f.js" nomodule=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-b1e65e8932ecc2a9063e.js" async=""></script><script src="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-c7041205d81b01c318ad.js" async=""></script><script src="/app-1958255b6317885b58ab.js" async=""></script><script src="/framework-26c2e434f6459d5355dd.js" async=""></script><script src="/webpack-runtime-fa64a904c87b910f2174.js" async=""></script></body></html>